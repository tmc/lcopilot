(()=>{var __webpack_modules__={5420:e=>{var t=Object.prototype.toString,n="undefined"!=typeof Buffer&&"function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from;e.exports=function(e,r,o){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return s=e,"ArrayBuffer"===t.call(s).slice(8,-1)?function(e,t,r){t>>>=0;var o=e.byteLength-t;if(o<0)throw new RangeError("'offset' is out of bounds");if(void 0===r)r=o;else if((r>>>=0)>o)throw new RangeError("'length' is out of bounds");return n?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}(e,r,o):"string"==typeof e?function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return n?Buffer.from(e,t):new Buffer(e,t)}(e,r):n?Buffer.from(e):new Buffer(e);var s}},406:(e,t,n)=>{n(6252).install()},6252:(e,t,n)=>{e=n.nmd(e);var r,o=n(5008).SourceMapConsumer,s=n(1017);try{(r=n(7147)).existsSync&&r.readFileSync||(r=null)}catch(e){}var i=n(5420);function a(e,t){return e.require(t)}var l=!1,u=!1,_=!1,c="auto",d={},p={},h=/^data:application\/json[^,]+base64,/,m=[],f=[];function g(){return"browser"===c||"node"!==c&&"undefined"!=typeof window&&"function"==typeof XMLHttpRequest&&!(window.require&&window.module&&window.process&&"renderer"===window.process.type)}function y(e){return function(t){for(var n=0;n<e.length;n++){var r=e[n](t);if(r)return r}return null}}var w=y(m);function b(e,t){if(!e)return t;var n=s.dirname(e),r=/^\w+:\/\/[^\/]*/.exec(n),o=r?r[0]:"",i=n.slice(o.length);return o&&/^\/\w\:/.test(i)?(o+="/")+s.resolve(n.slice(o.length),t).replace(/\\/g,"/"):o+s.resolve(n.slice(o.length),t)}m.push((function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,(function(e,t){return t?"":"/"}))),e in d)return d[e];var t="";try{if(r)r.existsSync(e)&&(t=r.readFileSync(e,"utf8"));else{var n=new XMLHttpRequest;n.open("GET",e,!1),n.send(null),4===n.readyState&&200===n.status&&(t=n.responseText)}}catch(e){}return d[e]=t}));var E=y(f);function S(e){var t=p[e.source];if(!t){var n=E(e.source);n?(t=p[e.source]={url:n.url,map:new o(n.map)}).map.sourcesContent&&t.map.sources.forEach((function(e,n){var r=t.map.sourcesContent[n];if(r){var o=b(t.url,e);d[o]=r}})):t=p[e.source]={url:null,map:null}}if(t&&t.map&&"function"==typeof t.map.originalPositionFor){var r=t.map.originalPositionFor(e);if(null!==r.source)return r.source=b(t.url,r.source),r}return e}function v(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var n=S({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+n.source+":"+n.line+":"+(n.column+1)+")"}return(t=/^eval at ([^(]+) \((.+)\)$/.exec(e))?"eval at "+t[1]+" ("+v(t[2])+")":e}function M(){var e,t="";if(this.isNative())t="native";else{!(e=this.getScriptNameOrSourceURL())&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),t+=e||"<anonymous>";var n=this.getLineNumber();if(null!=n){t+=":"+n;var r=this.getColumnNumber();r&&(t+=":"+r)}}var o="",s=this.getFunctionName(),i=!0,a=this.isConstructor();if(this.isToplevel()||a)a?o+="new "+(s||"<anonymous>"):s?o+=s:(o+=t,i=!1);else{var l=this.getTypeName();"[object Object]"===l&&(l="null");var u=this.getMethodName();s?(l&&0!=s.indexOf(l)&&(o+=l+"."),o+=s,u&&s.indexOf("."+u)!=s.length-u.length-1&&(o+=" [as "+u+"]")):o+=l+"."+(u||"<anonymous>")}return i&&(o+=" ("+t+")"),o}function T(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(n){t[n]=/^(?:is|get)/.test(n)?function(){return e[n].call(e)}:e[n]})),t.toString=M,t}function I(e,t){if(void 0===t&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var n=e.getFileName()||e.getScriptNameOrSourceURL();if(n){var r=e.getLineNumber(),o=e.getColumnNumber()-1,s=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/.test("object"==typeof process&&null!==process?process.version:"")?0:62;1===r&&o>s&&!g()&&!e.isEval()&&(o-=s);var i=S({source:n,line:r,column:o});t.curPosition=i;var a=(e=T(e)).getFunctionName;return e.getFunctionName=function(){return null==t.nextPosition?a():t.nextPosition.name||a()},e.getFileName=function(){return i.source},e.getLineNumber=function(){return i.line},e.getColumnNumber=function(){return i.column+1},e.getScriptNameOrSourceURL=function(){return i.source},e}var l=e.isEval()&&e.getEvalOrigin();return l?(l=v(l),(e=T(e)).getEvalOrigin=function(){return l},e):e}function C(e,t){_&&(d={},p={});for(var n=(e.name||"Error")+": "+(e.message||""),r={nextPosition:null,curPosition:null},o=[],s=t.length-1;s>=0;s--)o.push("\n    at "+I(t[s],r)),r.nextPosition=r.curPosition;return r.curPosition=r.nextPosition=null,n+o.reverse().join("")}function N(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var n=t[1],o=+t[2],s=+t[3],i=d[n];if(!i&&r&&r.existsSync(n))try{i=r.readFileSync(n,"utf8")}catch(e){i=""}if(i){var a=i.split(/(?:\r\n|\r|\n)/)[o-1];if(a)return n+":"+o+"\n"+a+"\n"+new Array(s).join(" ")+"^"}}return null}f.push((function(e){var t,n=function(e){var t;if(g())try{var n=new XMLHttpRequest;n.open("GET",e,!1),n.send(null),t=4===n.readyState?n.responseText:null;var r=n.getResponseHeader("SourceMap")||n.getResponseHeader("X-SourceMap");if(r)return r}catch(e){}t=w(e);for(var o,s,i=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/gm;s=i.exec(t);)o=s;return o?o[1]:null}(e);if(!n)return null;if(h.test(n)){var r=n.slice(n.indexOf(",")+1);t=i(r,"base64").toString(),n=e}else n=b(e,n),t=w(n);return t?{url:n,map:t}:null}));var A=m.slice(0),x=f.slice(0);t.wrapCallSite=I,t.getErrorSource=N,t.mapSourcePosition=S,t.retrieveSourceMap=E,t.install=function(t){if((t=t||{}).environment&&(c=t.environment,-1===["node","browser","auto"].indexOf(c)))throw new Error("environment "+c+" was unknown. Available options are {auto, browser, node}");if(t.retrieveFile&&(t.overrideRetrieveFile&&(m.length=0),m.unshift(t.retrieveFile)),t.retrieveSourceMap&&(t.overrideRetrieveSourceMap&&(f.length=0),f.unshift(t.retrieveSourceMap)),t.hookRequire&&!g()){var n=a(e,"module"),r=n.prototype._compile;r.__sourceMapSupport||(n.prototype._compile=function(e,t){return d[t]=e,p[t]=void 0,r.call(this,e,t)},n.prototype._compile.__sourceMapSupport=!0)}if(_||(_="emptyCacheBetweenOperations"in t&&t.emptyCacheBetweenOperations),l||(l=!0,Error.prepareStackTrace=C),!u){var o=!("handleUncaughtExceptions"in t)||t.handleUncaughtExceptions;try{!1===a(e,"worker_threads").isMainThread&&(o=!1)}catch(e){}o&&"object"==typeof process&&null!==process&&"function"==typeof process.on&&(u=!0,s=process.emit,process.emit=function(e){if("uncaughtException"===e){var t=arguments[1]&&arguments[1].stack,n=this.listeners(e).length>0;if(t&&!n)return o=N(r=arguments[1]),(i=function(){if("object"==typeof process&&null!==process)return process.stderr}())&&i._handle&&i._handle.setBlocking&&i._handle.setBlocking(!0),o&&(console.error(),console.error(o)),console.error(r.stack),void("object"==typeof process&&null!==process&&"function"==typeof process.exit&&process.exit(1))}var r,o,i;return s.apply(this,arguments)})}var s},t.resetRetrieveHandlers=function(){m.length=0,f.length=0,m=A.slice(0),f=x.slice(0),E=y(f),w=y(m)}},8213:(e,t,n)=>{var r=n(2728),o=Object.prototype.hasOwnProperty,s="undefined"!=typeof Map;function i(){this._array=[],this._set=s?new Map:Object.create(null)}i.fromArray=function(e,t){for(var n=new i,r=0,o=e.length;r<o;r++)n.add(e[r],t);return n},i.prototype.size=function(){return s?this._set.size:Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(e,t){var n=s?e:r.toSetString(e),i=s?this.has(e):o.call(this._set,n),a=this._array.length;i&&!t||this._array.push(e),i||(s?this._set.set(e,a):this._set[n]=a)},i.prototype.has=function(e){if(s)return this._set.has(e);var t=r.toSetString(e);return o.call(this._set,t)},i.prototype.indexOf=function(e){if(s){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(o.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},i.prototype.toArray=function(){return this._array.slice()},t.I=i},6400:(e,t,n)=>{var r=n(7923);t.encode=function(e){var t,n="",o=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&o,(o>>>=5)>0&&(t|=32),n+=r.encode(t)}while(o>0);return n},t.decode=function(e,t,n){var o,s,i,a,l=e.length,u=0,_=0;do{if(t>=l)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(s=r.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));o=!!(32&s),u+=(s&=31)<<_,_+=5}while(o);n.value=(a=(i=u)>>1,1==(1&i)?-a:a),n.rest=t}},7923:(e,t)=>{var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},9216:(e,t)=>{function n(e,r,o,s,i,a){var l=Math.floor((r-e)/2)+e,u=i(o,s[l],!0);return 0===u?l:u>0?r-l>1?n(l,r,o,s,i,a):a==t.LEAST_UPPER_BOUND?r<s.length?r:-1:l:l-e>1?n(e,l,o,s,i,a):a==t.LEAST_UPPER_BOUND?l:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,r,o,s){if(0===r.length)return-1;var i=n(-1,r.length,e,r,o,s||t.GREATEST_LOWER_BOUND);if(i<0)return-1;for(;i-1>=0&&0===o(r[i],r[i-1],!0);)--i;return i}},1188:(e,t,n)=>{var r=n(2728);function o(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},o.prototype.add=function(e){var t,n,o,s,i,a;n=e,o=(t=this._last).generatedLine,s=n.generatedLine,i=t.generatedColumn,a=n.generatedColumn,s>o||s==o&&a>=i||r.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},o.prototype.toArray=function(){return this._sorted||(this._array.sort(r.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.H=o},2826:(e,t)=>{function n(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function r(e,t,o,s){if(o<s){var i=o-1;n(e,(_=o,c=s,Math.round(_+Math.random()*(c-_))),s);for(var a=e[s],l=o;l<s;l++)t(e[l],a)<=0&&n(e,i+=1,l);n(e,i+1,l);var u=i+1;r(e,t,o,u-1),r(e,t,u+1,s)}var _,c}t.U=function(e,t){r(e,t,0,e.length-1)}},6771:(e,t,n)=>{var r=n(2728),o=n(9216),s=n(8213).I,i=n(6400),a=n(2826).U;function l(e,t){var n=e;return"string"==typeof e&&(n=r.parseSourceMapInput(e)),null!=n.sections?new c(n,t):new u(n,t)}function u(e,t){var n=e;"string"==typeof e&&(n=r.parseSourceMapInput(e));var o=r.getArg(n,"version"),i=r.getArg(n,"sources"),a=r.getArg(n,"names",[]),l=r.getArg(n,"sourceRoot",null),u=r.getArg(n,"sourcesContent",null),_=r.getArg(n,"mappings"),c=r.getArg(n,"file",null);if(o!=this._version)throw new Error("Unsupported version: "+o);l&&(l=r.normalize(l)),i=i.map(String).map(r.normalize).map((function(e){return l&&r.isAbsolute(l)&&r.isAbsolute(e)?r.relative(l,e):e})),this._names=s.fromArray(a.map(String),!0),this._sources=s.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map((function(e){return r.computeSourceURL(l,e,t)})),this.sourceRoot=l,this.sourcesContent=u,this._mappings=_,this._sourceMapURL=t,this.file=c}function _(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function c(e,t){var n=e;"string"==typeof e&&(n=r.parseSourceMapInput(e));var o=r.getArg(n,"version"),i=r.getArg(n,"sections");if(o!=this._version)throw new Error("Unsupported version: "+o);this._sources=new s,this._names=new s;var a={line:-1,column:0};this._sections=i.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var n=r.getArg(e,"offset"),o=r.getArg(n,"line"),s=r.getArg(n,"column");if(o<a.line||o===a.line&&s<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=n,{generatedOffset:{generatedLine:o+1,generatedColumn:s+1},consumer:new l(r.getArg(e,"map"),t)}}))}l.fromSourceMap=function(e,t){return u.fromSourceMap(e,t)},l.prototype._version=3,l.prototype.__generatedMappings=null,Object.defineProperty(l.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),l.prototype.__originalMappings=null,Object.defineProperty(l.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),l.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},l.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},l.GENERATED_ORDER=1,l.ORIGINAL_ORDER=2,l.GREATEST_LOWER_BOUND=1,l.LEAST_UPPER_BOUND=2,l.prototype.eachMapping=function(e,t,n){var o,s=t||null;switch(n||l.GENERATED_ORDER){case l.GENERATED_ORDER:o=this._generatedMappings;break;case l.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var i=this.sourceRoot;o.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=r.computeSourceURL(i,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,s)},l.prototype.allGeneratedPositionsFor=function(e){var t=r.getArg(e,"line"),n={source:r.getArg(e,"source"),originalLine:t,originalColumn:r.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var s=[],i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,o.LEAST_UPPER_BOUND);if(i>=0){var a=this._originalMappings[i];if(void 0===e.column)for(var l=a.originalLine;a&&a.originalLine===l;)s.push({line:r.getArg(a,"generatedLine",null),column:r.getArg(a,"generatedColumn",null),lastColumn:r.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++i];else for(var u=a.originalColumn;a&&a.originalLine===t&&a.originalColumn==u;)s.push({line:r.getArg(a,"generatedLine",null),column:r.getArg(a,"generatedColumn",null),lastColumn:r.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++i]}return s},t.SourceMapConsumer=l,u.prototype=Object.create(l.prototype),u.prototype.consumer=l,u.prototype._findSourceIndex=function(e){var t,n=e;if(null!=this.sourceRoot&&(n=r.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},u.fromSourceMap=function(e,t){var n=Object.create(u.prototype),o=n._names=s.fromArray(e._names.toArray(),!0),i=n._sources=s.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map((function(e){return r.computeSourceURL(n.sourceRoot,e,t)}));for(var l=e._mappings.toArray().slice(),c=n.__generatedMappings=[],d=n.__originalMappings=[],p=0,h=l.length;p<h;p++){var m=l[p],f=new _;f.generatedLine=m.generatedLine,f.generatedColumn=m.generatedColumn,m.source&&(f.source=i.indexOf(m.source),f.originalLine=m.originalLine,f.originalColumn=m.originalColumn,m.name&&(f.name=o.indexOf(m.name)),d.push(f)),c.push(f)}return a(n.__originalMappings,r.compareByOriginalPositions),n},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),u.prototype._parseMappings=function(e,t){for(var n,o,s,l,u,c=1,d=0,p=0,h=0,m=0,f=0,g=e.length,y=0,w={},b={},E=[],S=[];y<g;)if(";"===e.charAt(y))c++,y++,d=0;else if(","===e.charAt(y))y++;else{for((n=new _).generatedLine=c,l=y;l<g&&!this._charIsMappingSeparator(e,l);l++);if(s=w[o=e.slice(y,l)])y+=o.length;else{for(s=[];y<l;)i.decode(e,y,b),u=b.value,y=b.rest,s.push(u);if(2===s.length)throw new Error("Found a source, but no line and column");if(3===s.length)throw new Error("Found a source and line, but no column");w[o]=s}n.generatedColumn=d+s[0],d=n.generatedColumn,s.length>1&&(n.source=m+s[1],m+=s[1],n.originalLine=p+s[2],p=n.originalLine,n.originalLine+=1,n.originalColumn=h+s[3],h=n.originalColumn,s.length>4&&(n.name=f+s[4],f+=s[4])),S.push(n),"number"==typeof n.originalLine&&E.push(n)}a(S,r.compareByGeneratedPositionsDeflated),this.__generatedMappings=S,a(E,r.compareByOriginalPositions),this.__originalMappings=E},u.prototype._findMapping=function(e,t,n,r,s,i){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return o.search(e,t,s,i)},u.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},u.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",r.compareByGeneratedPositionsDeflated,r.getArg(e,"bias",l.GREATEST_LOWER_BOUND));if(n>=0){var o=this._generatedMappings[n];if(o.generatedLine===t.generatedLine){var s=r.getArg(o,"source",null);null!==s&&(s=this._sources.at(s),s=r.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var i=r.getArg(o,"name",null);return null!==i&&(i=this._names.at(i)),{source:s,line:r.getArg(o,"originalLine",null),column:r.getArg(o,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e}))},u.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var o,s=e;if(null!=this.sourceRoot&&(s=r.relative(this.sourceRoot,s)),null!=this.sourceRoot&&(o=r.urlParse(this.sourceRoot))){var i=s.replace(/^file:\/\//,"");if("file"==o.scheme&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!o.path||"/"==o.path)&&this._sources.has("/"+s))return this.sourcesContent[this._sources.indexOf("/"+s)]}if(t)return null;throw new Error('"'+s+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(e){var t=r.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var n={source:t,originalLine:r.getArg(e,"line"),originalColumn:r.getArg(e,"column")},o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,r.getArg(e,"bias",l.GREATEST_LOWER_BOUND));if(o>=0){var s=this._originalMappings[o];if(s.source===n.source)return{line:r.getArg(s,"generatedLine",null),column:r.getArg(s,"generatedColumn",null),lastColumn:r.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},c.prototype=Object.create(l.prototype),c.prototype.constructor=l,c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),c.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=o.search(t,this._sections,(function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn})),s=this._sections[n];return s?s.consumer.originalPositionFor({line:t.generatedLine-(s.generatedOffset.generatedLine-1),column:t.generatedColumn-(s.generatedOffset.generatedLine===t.generatedLine?s.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},c.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer._findSourceIndex(r.getArg(e,"source"))){var o=n.consumer.generatedPositionFor(e);if(o)return{line:o.line+(n.generatedOffset.generatedLine-1),column:o.column+(n.generatedOffset.generatedLine===o.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},c.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var o=this._sections[n],s=o.consumer._generatedMappings,i=0;i<s.length;i++){var l=s[i],u=o.consumer._sources.at(l.source);u=r.computeSourceURL(o.consumer.sourceRoot,u,this._sourceMapURL),this._sources.add(u),u=this._sources.indexOf(u);var _=null;l.name&&(_=o.consumer._names.at(l.name),this._names.add(_),_=this._names.indexOf(_));var c={source:u,generatedLine:l.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:l.generatedColumn+(o.generatedOffset.generatedLine===l.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:l.originalLine,originalColumn:l.originalColumn,name:_};this.__generatedMappings.push(c),"number"==typeof c.originalLine&&this.__originalMappings.push(c)}a(this.__generatedMappings,r.compareByGeneratedPositionsDeflated),a(this.__originalMappings,r.compareByOriginalPositions)}},4433:(e,t,n)=>{var r=n(6400),o=n(2728),s=n(8213).I,i=n(1188).H;function a(e){e||(e={}),this._file=o.getArg(e,"file",null),this._sourceRoot=o.getArg(e,"sourceRoot",null),this._skipValidation=o.getArg(e,"skipValidation",!1),this._sources=new s,this._names=new s,this._mappings=new i,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=o.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)})),e.sources.forEach((function(r){var s=r;null!==t&&(s=o.relative(t,r)),n._sources.has(s)||n._sources.add(s);var i=e.sourceContentFor(r);null!=i&&n.setSourceContent(r,i)})),n},a.prototype.addMapping=function(e){var t=o.getArg(e,"generated"),n=o.getArg(e,"original",null),r=o.getArg(e,"source",null),s=o.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,s),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=s&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:s})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=o.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[o.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[o.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var i=this._sourceRoot;null!=i&&(r=o.relative(i,r));var a=new s,l=new s;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){var s=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=s.source&&(t.source=s.source,null!=n&&(t.source=o.join(n,t.source)),null!=i&&(t.source=o.relative(i,t.source)),t.originalLine=s.line,t.originalColumn=s.column,null!=s.name&&(t.name=s.name))}var u=t.source;null==u||a.has(u)||a.add(u);var _=t.name;null==_||l.has(_)||l.add(_)}),this),this._sources=a,this._names=l,e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=o.join(n,t)),null!=i&&(t=o.relative(i,t)),this.setSourceContent(t,r))}),this)},a.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},a.prototype._serializeMappings=function(){for(var e,t,n,s,i=0,a=1,l=0,u=0,_=0,c=0,d="",p=this._mappings.toArray(),h=0,m=p.length;h<m;h++){if(e="",(t=p[h]).generatedLine!==a)for(i=0;t.generatedLine!==a;)e+=";",a++;else if(h>0){if(!o.compareByGeneratedPositionsInflated(t,p[h-1]))continue;e+=","}e+=r.encode(t.generatedColumn-i),i=t.generatedColumn,null!=t.source&&(s=this._sources.indexOf(t.source),e+=r.encode(s-c),c=s,e+=r.encode(t.originalLine-1-u),u=t.originalLine-1,e+=r.encode(t.originalColumn-l),l=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-_),_=n)),d+=e}return d},a.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=o.relative(t,e));var n=o.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.h=a},7085:(e,t,n)=>{var r=n(4433).h,o=n(2728),s=/(\r?\n)/,i="$$$isSourceNode$$$";function a(e,t,n,r,o){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==o?null:o,this[i]=!0,null!=r&&this.add(r)}a.fromStringWithSourceMap=function(e,t,n){var r=new a,i=e.split(s),l=0,u=function(){return e()+(e()||"");function e(){return l<i.length?i[l++]:void 0}},_=1,c=0,d=null;return t.eachMapping((function(e){if(null!==d){if(!(_<e.generatedLine)){var t=(n=i[l]||"").substr(0,e.generatedColumn-c);return i[l]=n.substr(e.generatedColumn-c),c=e.generatedColumn,p(d,t),void(d=e)}p(d,u()),_++,c=0}for(;_<e.generatedLine;)r.add(u()),_++;if(c<e.generatedColumn){var n=i[l]||"";r.add(n.substr(0,e.generatedColumn)),i[l]=n.substr(e.generatedColumn),c=e.generatedColumn}d=e}),this),l<i.length&&(d&&p(d,u()),r.add(i.splice(l).join(""))),t.sources.forEach((function(e){var s=t.sourceContentFor(e);null!=s&&(null!=n&&(e=o.join(n,e)),r.setSourceContent(e,s))})),r;function p(e,t){if(null===e||void 0===e.source)r.add(t);else{var s=n?o.join(n,e.source):e.source;r.add(new a(e.originalLine,e.originalColumn,s,t,e.name))}}},a.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[i]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},a.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[i]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},a.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[i]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},a.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[i]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},a.prototype.setSourceContent=function(e,t){this.sourceContents[o.toSetString(e)]=t},a.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][i]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(o.fromSetString(r[t]),this.sourceContents[r[t]])},a.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},a.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new r(e),o=!1,s=null,i=null,a=null,l=null;return this.walk((function(e,r){t.code+=e,null!==r.source&&null!==r.line&&null!==r.column?(s===r.source&&i===r.line&&a===r.column&&l===r.name||n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name}),s=r.source,i=r.line,a=r.column,l=r.name,o=!0):o&&(n.addMapping({generated:{line:t.line,column:t.column}}),s=null,o=!1);for(var u=0,_=e.length;u<_;u++)10===e.charCodeAt(u)?(t.line++,t.column=0,u+1===_?(s=null,o=!1):o&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}}},2728:(e,t)=>{t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function o(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function s(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function i(e){var n=e,r=o(e);if(r){if(!r.path)return e;n=r.path}for(var i,a=t.isAbsolute(n),l=n.split(/\/+/),u=0,_=l.length-1;_>=0;_--)"."===(i=l[_])?l.splice(_,1):".."===i?u++:u>0&&(""===i?(l.splice(_+1,u),u=0):(l.splice(_,2),u--));return""===(n=l.join("/"))&&(n=a?"/":"."),r?(r.path=n,s(r)):n}function a(e,t){""===e&&(e="."),""===t&&(t=".");var n=o(t),a=o(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),s(n);if(n||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,s(a);var l="/"===t.charAt(0)?t:i(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=l,s(a)):l}t.urlParse=o,t.urlGenerate=s,t.normalize=i,t.join=a,t.isAbsolute=function(e){return"/"===e.charAt(0)||n.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var l=!("__proto__"in Object.create(null));function u(e){return e}function _(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function c(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=l?u:function(e){return _(e)?"$"+e:e},t.fromSetString=l?u:function(e){return _(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=c(e.source,t.source);return 0!==r||0!=(r=e.originalLine-t.originalLine)||0!=(r=e.originalColumn-t.originalColumn)||n||0!=(r=e.generatedColumn-t.generatedColumn)||0!=(r=e.generatedLine-t.generatedLine)?r:c(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r||0!=(r=e.generatedColumn-t.generatedColumn)||n||0!==(r=c(e.source,t.source))||0!=(r=e.originalLine-t.originalLine)||0!=(r=e.originalColumn-t.originalColumn)?r:c(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!=(n=e.generatedColumn-t.generatedColumn)||0!==(n=c(e.source,t.source))||0!=(n=e.originalLine-t.originalLine)||0!=(n=e.originalColumn-t.originalColumn)?n:c(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var r=o(n);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var l=r.path.lastIndexOf("/");l>=0&&(r.path=r.path.substring(0,l+1))}t=a(s(r),t)}return i(t)}},5008:(e,t,n)=>{n(4433).h,t.SourceMapConsumer=n(6771).SourceMapConsumer,n(7085)},2271:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultFileSystem=t.FileSystem=void 0;const r=n(7147);t.FileSystem=class{},t.defaultFileSystem={readFile:e=>r.promises.readFile(e),async stat(e){const t=await r.promises.stat(e);return{ctime:t.ctimeMs,mtime:t.mtimeMs,size:t.size}}}},4876:(e,t)=>{"use strict";function n(e){return"virtual"===e.type}function r(e){return"top"===e.type}Object.defineProperty(t,"__esModule",{value:!0}),t.duplicateTree=t.cutTreeAfterLine=t.isTop=t.isVirtual=t.isLine=t.isBlank=t.topNode=t.blankNode=t.lineNode=t.virtualNode=void 0,t.virtualNode=function(e,t,n){return{type:"virtual",indentation:e,subs:t,label:n}},t.lineNode=function(e,t,n,r,o){if(""===n)throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:n,subs:r,label:o}},t.blankNode=function(e){return{type:"blank",lineNumber:e,subs:[]}},t.topNode=function(e){return{type:"top",indentation:-1,subs:e??[]}},t.isBlank=function(e){return"blank"===e.type},t.isLine=function(e){return"line"===e.type},t.isVirtual=n,t.isTop=r,t.cutTreeAfterLine=function(e,t){!function e(o){if(!n(o)&&!r(o)&&o.lineNumber===t)return o.subs=[],!0;for(let t=0;t<o.subs.length;t++)if(e(o.subs[t]))return o.subs=o.subs.slice(0,t+1),!0;return!1}(e)},t.duplicateTree=function(e){return JSON.parse(JSON.stringify(e))}},8617:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rebuildTree=t.foldTree=t.visitTreeConditionally=t.visitTree=t.resetLineNumbers=t.mapLabels=t.clearLabelsIf=t.clearLabels=void 0;const r=n(4876);function o(e,t,n){!function e(r){"topDown"===n&&t(r),r.subs.forEach((t=>{e(t)})),"bottomUp"===n&&t(r)}(e)}t.clearLabels=function(e){return o(e,(e=>{e.label=void 0}),"bottomUp"),e},t.clearLabelsIf=function(e,t){return o(e,(e=>{e.label=e.label?t(e.label)?void 0:e.label:void 0}),"bottomUp"),e},t.mapLabels=function e(t,n){switch(t.type){case"line":case"virtual":const r=t.subs.map((t=>e(t,n)));return{...t,subs:r,label:t.label?n(t.label):void 0};case"blank":return{...t,label:t.label?n(t.label):void 0};case"top":return{...t,subs:t.subs.map((t=>e(t,n))),label:t.label?n(t.label):void 0}}},t.resetLineNumbers=function(e){let t=0;o(e,(function(e){(0,r.isVirtual)(e)||(0,r.isTop)(e)||(e.lineNumber=t,t++)}),"topDown")},t.visitTree=o,t.visitTreeConditionally=function(e,t,n){!function e(r){if("topDown"===n&&!t(r))return!1;let o=!0;return r.subs.forEach((t=>{o=o&&e(t)})),"bottomUp"===n&&(o=o&&t(r)),o}(e)},t.foldTree=function(e,t,n,r){let s=t;return o(e,(function(e){s=n(e,s)}),r),s},t.rebuildTree=function(e,t,n){const o=e=>{if(void 0!==n&&n(e))return e;{const n=e.subs.map(o).filter((e=>void 0!==e));return e.subs=n,t(e)}},s=o(e);return void 0!==s?s:(0,r.topNode)()}},3469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTree=t.registerLanguageSpecificParser=t.flattenVirtual=t.groupBlocks=t.combineClosersAndOpeners=t.buildLabelRules=t.labelVirtualInherited=t.labelLines=t.parseRaw=void 0;const r=n(4876),o=n(8617);function s(e){const t=e.split("\n"),n=t.map((e=>e.match(/^\s*/)[0].length)),o=t.map((e=>e.trimLeft()));function s(e){const[t,s]=i(e+1,n[e]);return[(0,r.lineNode)(n[e],e,o[e],t),s]}function i(e,t){let i;const a=[];let l,u=e;for(;u<o.length&&(""===o[u]||n[u]>t);)if(""===o[u])void 0===l&&(l=u),u+=1;else{if(void 0!==l){for(let e=l;e<u;e++)a.push((0,r.blankNode)(e));l=void 0}[i,u]=s(u),a.push(i)}return void 0!==l&&(u=l),[a,u]}const[a,l]=i(0,-1);let u=l;for(;u<o.length&&""===o[u];)a.push((0,r.blankNode)(u)),u+=1;if(u<o.length)throw new Error(`Parsing did not go to end of file. Ended at ${u} out of ${o.length}`);return(0,r.topNode)(a)}function i(e,t){(0,o.visitTree)(e,(function(e){if((0,r.isLine)(e)){const n=t.find((t=>t.matches(e.sourceLine)));n&&(e.label=n.label)}}),"bottomUp")}function a(e){return Object.keys(e).map((t=>{let n;return n=e[t].test?n=>e[t].test(n):e[t],{matches:n,label:t}}))}function l(e){const t=(0,o.rebuildTree)(e,(function(e){if(0===e.subs.length||-1===e.subs.findIndex((e=>"closer"===e.label||"opener"===e.label)))return e;const t=[];let n;for(let o=0;o<e.subs.length;o++){const s=e.subs[o],i=e.subs[o-1];if("opener"===s.label&&void 0!==i&&(0,r.isLine)(i))i.subs.push(s),s.subs.forEach((e=>i.subs.push(e))),s.subs=[];else if("closer"===s.label&&void 0!==n&&((0,r.isLine)(s)||(0,r.isVirtual)(s))&&s.indentation>=n.indentation){let e=t.length-1;for(;e>0&&(0,r.isBlank)(t[e]);)e-=1;if(n.subs.push(...t.splice(e+1)),s.subs.length>0){const e=n.subs.findIndex((e=>"newVirtual"!==e.label)),t=n.subs.slice(0,e),o=n.subs.slice(e),i=o.length>0?[(0,r.virtualNode)(s.indentation,o,"newVirtual")]:[];n.subs=[...t,...i,s]}else n.subs.push(s)}else t.push(s),(0,r.isBlank)(s)||(n=s)}return e.subs=t,e}));return(0,o.clearLabelsIf)(e,(e=>"newVirtual"===e)),t}t.parseRaw=s,t.labelLines=i,t.labelVirtualInherited=function(e){(0,o.visitTree)(e,(function(e){if((0,r.isVirtual)(e)&&void 0===e.label){const t=e.subs.filter((e=>!(0,r.isBlank)(e)));1===t.length&&(e.label=t[0].label)}}),"bottomUp")},t.buildLabelRules=a,t.combineClosersAndOpeners=l,t.groupBlocks=function(e,t=r.isBlank,n){return(0,o.rebuildTree)(e,(function(e){if(e.subs.length<=1)return e;const o=[];let s,i=[],a=!1;function l(e=!1){if(void 0!==s&&(o.length>0||!e)){const e=(0,r.virtualNode)(s,i,n);o.push(e)}else i.forEach((e=>o.push(e)))}for(let n=0;n<e.subs.length;n++){const o=e.subs[n],u=t(o);!u&&a&&(l(),i=[]),a=u,i.push(o),(0,r.isBlank)(o)||(s=s??o.indentation)}return l(!0),e.subs=o,e}))},t.flattenVirtual=function(e){return(0,o.rebuildTree)(e,(function(e){return(0,r.isVirtual)(e)&&void 0===e.label&&e.subs.length<=1?0===e.subs.length?void 0:e.subs[0]:(1===e.subs.length&&(0,r.isVirtual)(e.subs[0])&&void 0===e.subs[0].label&&(e.subs=e.subs[0].subs),e)}))};const u=a({opener:/^[\[({]/,closer:/^[\])}]/}),_={};t.registerLanguageSpecificParser=function(e,t){_[e]=t},t.parseTree=function(e,t){const n=s(e),r=_[t??""];return r?r(n):(i(n,u),l(n))}},2417:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newLineEnded=t.getPathMarker=t.getLanguageMarker=t.commentBlockAsSingles=t.comment=t.hasLanguageMarker=t.languageCommentMarkers=void 0,t.languageCommentMarkers={abap:{start:'"',end:""},bat:{start:"REM",end:""},bibtex:{start:"%",end:""},blade:{start:"#",end:""},c:{start:"//",end:""},clojure:{start:";",end:""},coffeescript:{start:"//",end:""},cpp:{start:"//",end:""},csharp:{start:"//",end:""},css:{start:"/*",end:"*/"},dart:{start:"//",end:""},dockerfile:{start:"#",end:""},elixir:{start:"#",end:""},erb:{start:"<%#",end:"%>"},erlang:{start:"%",end:""},fsharp:{start:"//",end:""},go:{start:"//",end:""},groovy:{start:"//",end:""},haml:{start:"-#",end:""},handlebars:{start:"{{!",end:"}}"},haskell:{start:"--",end:""},html:{start:"\x3c!--",end:"--\x3e"},ini:{start:";",end:""},java:{start:"//",end:""},javascript:{start:"//",end:""},javascriptreact:{start:"//",end:""},jsonc:{start:"//",end:""},jsx:{start:"//",end:""},julia:{start:"#",end:""},kotlin:{start:"//",end:""},latex:{start:"%",end:""},less:{start:"//",end:""},lua:{start:"--",end:""},makefile:{start:"#",end:""},markdown:{start:"[]: #",end:""},"objective-c":{start:"//",end:""},"objective-cpp":{start:"//",end:""},perl:{start:"#",end:""},php:{start:"//",end:""},powershell:{start:"#",end:""},pug:{start:"//",end:""},python:{start:"#",end:""},ql:{start:"//",end:""},r:{start:"#",end:""},razor:{start:"\x3c!--",end:"--\x3e"},ruby:{start:"#",end:""},rust:{start:"//",end:""},sass:{start:"//",end:""},scala:{start:"//",end:""},scss:{start:"//",end:""},shellscript:{start:"#",end:""},slim:{start:"/",end:""},solidity:{start:"//",end:""},sql:{start:"--",end:""},stylus:{start:"//",end:""},svelte:{start:"\x3c!--",end:"--\x3e"},swift:{start:"//",end:""},terraform:{start:"#",end:""},tex:{start:"%",end:""},typescript:{start:"//",end:""},typescriptreact:{start:"//",end:""},vb:{start:"'",end:""},verilog:{start:"//",end:""},"vue-html":{start:"\x3c!--",end:"--\x3e"},vue:{start:"//",end:""},xml:{start:"\x3c!--",end:"--\x3e"},xsl:{start:"\x3c!--",end:"--\x3e"},yaml:{start:"#",end:""}};const n=["php","plaintext"],r={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function o({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}function s(e,n){const r=t.languageCommentMarkers[n];if(r){const t=""==r.end?"":" "+r.end;return`${r.start} ${e}${t}`}return""}t.hasLanguageMarker=o,t.comment=s,t.commentBlockAsSingles=function(e,n){if(!t.languageCommentMarkers[n]||""===e)return"";const r=e.endsWith("\n"),o=(r?e.slice(0,-1):e).split("\n").map((e=>s(e,n))).join("\n");return r?o+"\n":o},t.getLanguageMarker=function(e){const{languageId:t}=e;return-1!==n.indexOf(t)||o(e)?"":t in r?r[t]:s(`Language: ${t}`,t)},t.getPathMarker=function(e){return e.relativePath?s(`Path: ${e.relativePath}`,e.languageId):""},t.newLineEnded=function(e){return""===e||e.endsWith("\n")?e:e+"\n"}},5179:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractLocalImportContext=t.getDocComment=void 0;const r=n(1017),o=n(7373),s=n(2271),i=n(8306);function a(e,t){let n=t.namedChild(1)?.text.slice(1,-1);if(!n||!n.startsWith("."))return null;if(""===(0,r.extname)(n))n+=".ts";else if(".ts"!==(0,r.extname)(n))return null;return(0,r.join)((0,r.dirname)(e),n)}function l(e){let t=[];if("import_clause"===e.namedChild(0)?.type){let n=e.namedChild(0);if("named_imports"===n?.namedChild(0)?.type){let e=n.namedChild(0);for(let n of e?.namedChildren??[])if("import_specifier"===n.type){const e=n.childForFieldName("name")?.text;if(e){const r=n.childForFieldName("alias")?.text;t.push({name:e,alias:r})}}}}return t}const u=new Map,_=1e3,c=2e3;function d(e,t){let n=t?.childForFieldName("name")?.text??"";switch(t?.type){case"ambient_declaration":return d(e,t.namedChild(0));case"interface_declaration":case"enum_declaration":case"type_alias_declaration":return{name:n,decl:t.text};case"function_declaration":case"function_signature":return{name:n,decl:p(e,t)};case"class_declaration":{let r=function(e,t){let n=t.childForFieldName("body");if(n)return n.namedChildren.map((t=>m(e,t))).filter((e=>e))}(e,t),o="";if(r){let n=t.childForFieldName("body");o=`declare ${e.substring(t.startIndex,n.startIndex+1)}`,o+=r.map((e=>"\n"+e)).join(""),o+="\n}"}return{name:n,decl:o}}}return{name:n,decl:""}}function p(e,t){const n=t.childForFieldName("return_type")?.endIndex??t.childForFieldName("parameters")?.endIndex;if(void 0!==n){let r=e.substring(t.startIndex,n)+";";return"function_declaration"===t.type||"function_signature"===t.type?"declare "+r:r}return""}function h(e,t){const n=(0,i.getFirstPrecedingComment)(t);return n?e.substring(n.startIndex,t.startIndex):""}function m(e,t){if("accessibility_modifier"===t?.firstChild?.type&&"private"===t.firstChild.text)return"";const n=function(e,t){let n=t.startIndex-1;for(;n>=0&&(" "===e[n]||"\t"===e[n]);)n--;if(n<0||"\n"===e[n])return e.substring(n+1,t.startIndex)}(e,(0,i.getFirstPrecedingComment)(t)??t)??"  ",r=h(e,t);switch(t.type){case"ambient_declaration":const o=t.namedChild(0);return o?n+r+m(e,o):"";case"method_definition":case"method_signature":return n+r+p(e,t);case"public_field_definition":{let o=t.childForFieldName("type")?.endIndex??t.childForFieldName("name")?.endIndex;if(void 0!==o)return n+r+e.substring(t.startIndex,o)+";"}}return""}async function f(e,t,n){let r=new Map,o=-1;try{o=(await n.stat(e)).mtime}catch{return r}let s=u.get(e);if(s&&s.mtime===o)return s.exports;if("typescript"===t){let o=null;try{let s=(await n.readFile(e)).toString();o=await(0,i.parseTreeSitter)(t,s);for(let e of(0,i.queryExports)(t,o.rootNode))for(let t of e.captures){let e=t.node;if("export_statement"===e.type){let t=e.childForFieldName("declaration");if(t?.hasError())continue;let{name:n,decl:o}=d(s,t);if(n){o=h(s,e)+o;let t=r.get(n);t||(t=[],r.set(n,t)),t.push(o)}}}}catch{}finally{o&&o.delete()}}if(u.size>c)for(let e of u.keys())if(u.delete(e),r.size<=_)break;return u.set(e,{mtime:o,exports:r}),r}t.getDocComment=h;const g=/^\s*import\s*(type|)\s*\{[^}]*\}\s*from\s*['"]\./gm;t.extractLocalImportContext=async function(e,t){let{source:n,languageId:r}=e,u=o.URI.parse(e.uri);return"typescript"===r&&"file"===u.scheme?async function(e,t,n){let r="typescript",o=[];const s=function(e){let t,n=-1;g.lastIndex=-1;do{t=g.exec(e),t&&(n=g.lastIndex+t.length)}while(t);if(-1===n)return-1;const r=e.indexOf("\n",n);return-1!==r?r:e.length}(e);if(-1===s)return o;e=e.substring(0,s);let u=await(0,i.parseTreeSitter)(r,e);try{for(let e of function(e){let t=[];for(let n of e.namedChildren)"import_statement"===n.type&&t.push(n);return t}(u.rootNode)){let s=a(t,e);if(!s)continue;let i=l(e);if(0===i.length)continue;let u=await f(s,r,n);for(let e of i)u.has(e.name)&&o.push(...u.get(e.name))}}finally{u.delete()}return o}(n,u.fsPath,t??s.defaultFileSystem):[]}},8306:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getCallSites=t.getFunctionPositions=t.getFirstPrecedingComment=t.isFunctionDefinition=t.isFunction=t.getAncestorWithSiblingFunctions=t.queryPythonIsDocstring=t.queryGlobalVars=t.queryExports=t.queryImports=t.queryFunctions=t.getBlockCloseToken=t.parsesWithoutError=t.parseTreeSitter=t.getLanguage=t.languageIdToWasmLanguage=t.isSupportedLanguageId=t.WASMLanguage=void 0;const o=n(1017),s=r(n(4087));var i;!function(e){e.Python="python",e.JavaScript="javascript",e.TypeScript="typescript",e.TSX="tsx",e.Go="go",e.Ruby="ruby"}(i=t.WASMLanguage||(t.WASMLanguage={}));const a={python:i.Python,javascript:i.JavaScript,javascriptreact:i.JavaScript,jsx:i.JavaScript,typescript:i.TypeScript,typescriptreact:i.TSX,go:i.Go,ruby:i.Ruby};function l(e){if(!(e in a))throw new Error(`Unrecognized language: ${e}`);return a[e]}t.isSupportedLanguageId=function(e){return e in a},t.languageIdToWasmLanguage=l;const u="[\n    (function body: (statement_block) @body)\n    (function_declaration body: (statement_block) @body)\n    (generator_function body: (statement_block) @body)\n    (generator_function_declaration body: (statement_block) @body)\n    (method_definition body: (statement_block) @body)\n    (arrow_function body: (statement_block) @body)\n  ] @function",_={python:[["(function_definition body: (block\n             (expression_statement (string))? @docstring) @body) @function"],['(ERROR ("def" (identifier) (parameters))) @function']],javascript:[[u]],typescript:[[u]],tsx:[[u]],go:[["[\n            (function_declaration body: (block) @body)\n            (method_declaration body: (block) @body)\n          ] @function"]],ruby:[['[\n            (method name: (_) parameters: (method_parameters)? @params [(_)+ "end"] @body)\n            (singleton_method name: (_) parameters: (method_parameters)? @params [(_)+ "end"] @body)\n          ] @function']]},c='(variable_declarator value: (call_expression function: ((identifier) @req (#eq? @req "require"))))',d=`\n    (lexical_declaration ${c}+)\n    (variable_declaration ${c}+)\n`,p=[[`(program [ ${d} ] @import)`],["(program [ (import_statement) (import_alias) ] @import)"]],h={python:[["(module (future_import_statement) @import)"],["(module (import_statement) @import)"],["(module (import_from_statement) @import)"]],javascript:[[`(program [ ${d} ] @import)`],["(program [ (import_statement) ] @import)"]],typescript:p,tsx:p,go:[],ruby:[]},m=[["(program (export_statement) @export)"]],f={python:[],javascript:m,typescript:m,tsx:m,go:[],ruby:[]},g={python:[["(module (global_statement) @globalVar)"],["(module (expression_statement) @globalVar)"]],javascript:[],typescript:[],tsx:[],go:[],ruby:[]},y=["function","function_declaration","generator_function","generator_function_declaration","method_definition","arrow_function"],w={python:new Set(["function_definition"]),javascript:new Set(y),typescript:new Set(y),tsx:new Set(y),go:new Set(["function_declaration","method_declaration"]),ruby:new Set(["method","singleton_method"])},b={python:e=>"module"===e.type||"block"===e.type&&"class_definition"===e.parent?.type,javascript:e=>"program"===e.type||"class_body"===e.type,typescript:e=>"program"===e.type||"class_body"===e.type,tsx:e=>"program"===e.type||"class_body"===e.type,go:e=>"source_file"===e.type,ruby:e=>"program"===e.type||"class"===e.type},E=new Map;async function S(e){const t=l(e);if(!E.has(t)){const e=await async function(e){await s.default.init();const t=(0,o.resolve)(__dirname,"..","dist",`tree-sitter-${e}.wasm`);return s.default.Language.load(t)}(t);E.set(t,e)}return E.get(t)}async function v(e,t){let n=await S(e);const r=new s.default;r.setLanguage(n);const o=r.parse(t);return r.delete(),o}function M(e,t){const n=[];for(const r of e){if(!r[1]){const e=t.tree.getLanguage();r[1]=e.query(r[0])}n.push(...r[1].matches(t))}return n}function T(e,t){return M(_[l(e)],t)}t.getLanguage=S,t.parseTreeSitter=v,t.parsesWithoutError=async function(e,t){const n=await v(e,t),r=!n.rootNode.hasError();return n.delete(),r},t.getBlockCloseToken=function(e){switch(l(e)){case i.Python:return null;case i.JavaScript:case i.TypeScript:case i.TSX:case i.Go:return"}";case i.Ruby:return"end"}},t.queryFunctions=T,t.queryImports=function(e,t){return M(h[l(e)],t)},t.queryExports=function(e,t){return M(f[l(e)],t)},t.queryGlobalVars=function(e,t){return M(g[l(e)],t)};const I=["[\n    (class_definition (block (expression_statement (string))))\n    (function_definition (block (expression_statement (string))))\n]"];function C(e,t){return w[l(e)].has(t.type)}t.queryPythonIsDocstring=function(e){return 1==M([I],e).length},t.getAncestorWithSiblingFunctions=function(e,t){const n=b[l(e)];for(;t.parent;){if(n(t.parent))return t;t=t.parent}return t.parent?t:null},t.isFunction=C,t.isFunctionDefinition=function(e,t){switch(l(e)){case i.Python:case i.Go:case i.Ruby:return C(e,t);case i.JavaScript:case i.TypeScript:case i.TSX:if("function_declaration"===t.type||"generator_function_declaration"===t.type||"method_definition"===t.type)return!0;if("lexical_declaration"===t.type||"variable_declaration"===t.type){if(t.namedChildCount>1)return!1;let n=t.namedChild(0);if(null==n)return!1;let r=n.namedChild(1);return null!==r&&C(e,r)}if("expression_statement"===t.type){let n=t.namedChild(0);if("assignment_expression"===n?.type){let t=n.namedChild(1);return null!==t&&C(e,t)}}return!1}},t.getFirstPrecedingComment=function(e){let t=e;for(;"comment"===t.previousSibling?.type;){let e=t.previousSibling;if(e.endPosition.row<t.startPosition.row-1)break;t=e}return"comment"===t?.type?t:null},t.getFunctionPositions=async function(e,t){const n=await v(e,t),r=T(e,n.rootNode).map((e=>{const t=e.captures.find((e=>"function"===e.name)).node;return{startIndex:t.startIndex,endIndex:t.endIndex}}));return n.delete(),r};const N={python:[["(call\n            function:  [\n                (identifier) @caller\n                (attribute attribute:(identifier) @caller)\n            ]\n            arguments: (argument_list) @args\n        )"]],javascript:[],tsx:[],typescript:[],go:[],ruby:[]};t.getCallSites=async function(e){if(!(e.languageId in N))return[];let t=e.offset,n=e.source.substring(0,t);const r=Math.max(n.length-5e3,0),o=n.substring(0,r).split("\n").length-1;t-=r,n=n.substring(r),n+=")))))";let s=[];const i=await v(e.languageId,n);return M(N[a[e.languageId]],i.rootNode).forEach(((e,r)=>{let i="",a=0,l=0,u=0,_=0;if(e.captures.forEach(((e,t)=>{const r=e.node;"caller"==e.name?(i=n.substring(r.startIndex,r.endIndex),a=r.startPosition.row+o,l=r.startPosition.column):"args"==e.name&&(u=r.startIndex,_=r.endIndex)})),t>=u&&t<=_){const e={line:a,character:l};s.push([i,e])}})),i.delete(),s.map((([e,t])=>({name:e,position:t})))}},8312:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrompt=t.normalizeLanguageId=t.PromptOptions=t.SuffixStartMode=t.SuffixMatchOption=t.SuffixOption=t.LineEndingOptions=t.LocalImportContextOption=t.SnippetSelectionOption=t.SnippetPositionOption=t.PathMarkerOption=t.LanguageMarkerOption=t.DEFAULT_NUM_OF_SNIPPETS=t.TOKENS_RESERVED_FOR_SUFFIX_ENCODING=t.MAX_EDIT_DISTANCE_LENGTH=t.MAX_PROMPT_LENGTH=void 0;const r=n(2417),o=n(7670),s=n(6845),i=n(9125),a=n(4830),l=n(2395),u=n(1145),_=n(4456);let c={text:"",tokens:[]};var d,p,h,m,f,g,y,w,b;t.MAX_PROMPT_LENGTH=1500,t.MAX_EDIT_DISTANCE_LENGTH=50,t.TOKENS_RESERVED_FOR_SUFFIX_ENCODING=5,t.DEFAULT_NUM_OF_SNIPPETS=4,function(e){e.NoMarker="nomarker",e.Top="top",e.Always="always"}(d=t.LanguageMarkerOption||(t.LanguageMarkerOption={})),function(e){e.NoMarker="nomarker",e.Top="top",e.Always="always"}(p=t.PathMarkerOption||(t.PathMarkerOption={})),function(e){e.TopOfText="top",e.DirectlyAboveCursor="aboveCursor",e.AfterSiblings="afterSiblings"}(h=t.SnippetPositionOption||(t.SnippetPositionOption={})),function(e){e.BestMatch="bestMatch",e.TopK="topK"}(m=t.SnippetSelectionOption||(t.SnippetSelectionOption={})),function(e){e.NoContext="nocontext",e.Declarations="declarations"}(f=t.LocalImportContextOption||(t.LocalImportContextOption={})),function(e){e.ConvertToUnix="unix",e.KeepOriginal="keep"}(g=t.LineEndingOptions||(t.LineEndingOptions={})),(b=t.SuffixOption||(t.SuffixOption={})).None="none",b.FifteenPercent="fifteenPercent",function(e){e.Equal="equal",e.Levenshtein="levenshteineditdistance"}(y=t.SuffixMatchOption||(t.SuffixMatchOption={})),function(e){e.Cursor="cursor",e.CursorTrimStart="cursortrimstart",e.SiblingBlock="siblingblock",e.SiblingBlockTrimStart="siblingblocktrimstart"}(w=t.SuffixStartMode||(t.SuffixStartMode={}));class E{constructor(e,n){if(this.fs=e,this.maxPromptLength=t.MAX_PROMPT_LENGTH,this.languageMarker=d.Top,this.pathMarker=p.Top,this.localImportContext=f.NoContext,this.snippetPosition=h.TopOfText,this.numberOfSnippets=t.DEFAULT_NUM_OF_SNIPPETS,this.snippetProviderOptions={"neighboring-tabs":{normalizationFunction:"affine",normalizationParams:[1,0]},retrieval:{normalizationFunction:"affine",normalizationParams:[-1,0]},"symbol-def":{normalizationFunction:"affine",normalizationParams:[1,0],reservedSnippetCount:2},language:{normalizationFunction:"affine",normalizationParams:[1,0]},path:{normalizationFunction:"affine",normalizationParams:[1,0]},"local-import-context":{normalizationFunction:"affine",normalizationParams:[1,0]}},this.neighboringTabs=i.NeighboringTabsOption.Eager,this.neighboringSnippetTypes=i.NeighboringSnippetType.NeighboringSnippets,this.lineEnding=g.ConvertToUnix,this.suffixPercent=0,this.snippetPercent=0,this.suffixStartMode=w.Cursor,this.tokenizerName=u.TokenizerName.cushman001,this.suffixMatchThreshold=0,this.suffixMatchCriteria=y.Levenshtein,this.fimSuffixLengthThreshold=0,this.cursorSnippetsPickingStrategy=s.CursorSnippetsPickingStrategy.CursorJaccard,n){const e=n?.snippetSelection;if(e&&!Object.values(m).includes(e))throw new Error(`Invalid value for snippetSelection: ${e}`);for(const e in n)if("snippetProviderOptions"!==e)this[e]=n[e];else{const e=n.snippetProviderOptions||{};let t;for(t in e){const n=e[t];n&&(this.snippetProviderOptions[t]={...this.snippetProviderOptions[t],...n})}}}if(this.suffixPercent<0||this.suffixPercent>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${this.suffixPercent}`);if(this.snippetPercent<0||this.snippetPercent>100)throw new Error(`snippetPercent must be between 0 and 100, but was ${this.snippetPercent}`);if(this.suffixMatchThreshold<0||this.suffixMatchThreshold>100)throw new Error(`suffixMatchThreshold must be at between 0 and 100, but was ${this.suffixMatchThreshold}`);if(this.fimSuffixLengthThreshold<-1)throw new Error(`fimSuffixLengthThreshold must be at least -1, but was ${this.fimSuffixLengthThreshold}`);if(this.snippetSelection===m.TopK&&void 0===this.snippetSelectionK)throw new Error("snippetSelectionK must be defined.");if(this.snippetSelection===m.TopK&&this.snippetSelectionK&&this.snippetSelectionK<=0)throw new Error(`snippetSelectionK must be greater than 0, but was ${this.snippetSelectionK}`)}}t.PromptOptions=E;const S={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor"};function v(e){return e=e.toLowerCase(),S[e]??e}t.normalizeLanguageId=v,t.getPrompt=async function(e,n,s={},i=[]){const m=new E(e,s),g=(0,u.getTokenizer)(m.tokenizerName);let b=!1;const{source:S,offset:M}=n;if(M<0||M>S.length)throw new Error(`Offset ${M} is out of range.`);n.languageId=v(n.languageId);const T=new _.Priorities,I=T.justBelow(_.Priorities.TOP),C=m.languageMarker===d.Always?T.justBelow(_.Priorities.TOP):T.justBelow(I),N=m.pathMarker===p.Always?T.justBelow(_.Priorities.TOP):T.justBelow(I),A=T.justBelow(I),x=T.justBelow(A),P=T.justAbove(I),O=new _.PromptWishlist(g,m.lineEnding);let k,F=i.find((e=>e.provider===a.SnippetProviderType.Language));m.languageMarker!==d.NoMarker&&F&&(k=O.append(F.snippet,_.PromptElementKind.LanguageMarker,C));let L,R=i.find((e=>e.provider===a.SnippetProviderType.Path));m.pathMarker!==p.NoMarker&&void 0!==R&&R.snippet.length>0&&(L=O.append(R.snippet,_.PromptElementKind.PathMarker,N));let U=i.filter((e=>e.provider===a.SnippetProviderType.LocalImportContext));if(m.localImportContext!==f.NoContext)for(const e of U)O.append((0,r.newLineEnded)(e.snippet),_.PromptElementKind.ImportedFile,A);function D(){const e=Math.round(m.snippetPercent/100*m.maxPromptLength);(0,a.processSnippetsForWishlist)(i,n.languageId,g,m.snippetProviderOptions,{priorities:T,low:x,high:P},m.numberOfSnippets,e).forEach((e=>{let t=_.PromptElementKind.SimilarFile;e.provider===a.SnippetProviderType.Retrieval?t=_.PromptElementKind.RetrievalSnippet:e.provider==a.SnippetProviderType.SymbolDef&&(t=_.PromptElementKind.SymbolDefinition),O.append(e.announcedSnippet,t,e.priority,e.tokens,e.normalizedScore)}))}i=i.filter((e=>e.provider!==a.SnippetProviderType.Language&&e.provider!==a.SnippetProviderType.Path&&e.provider!==a.SnippetProviderType.LocalImportContext)),m.snippetPosition===h.TopOfText&&D();const B=[];let j;if(j=S.substring(0,M),m.snippetPosition===h.DirectlyAboveCursor){const e=j.lastIndexOf("\n")+1,t=j.substring(0,e),n=j.substring(e);O.appendLineForLine(t,_.PromptElementKind.BeforeCursor,I).forEach((e=>B.push(e))),D(),n.length>0&&(B.push(O.append(n,_.PromptElementKind.AfterCursor,I)),B.length>1&&O.require(B[B.length-2],B[B.length-1]))}else O.appendLineForLine(j,_.PromptElementKind.BeforeCursor,I).forEach((e=>B.push(e)));d.Top===m.languageMarker&&B.length>0&&void 0!==k&&O.require(k,B[0]),p.Top===m.pathMarker&&B.length>0&&void 0!==L&&(k?O.require(L,k):O.require(L,B[0])),void 0!==k&&void 0!==L&&O.exclude(L,k);let z=S.slice(M);if(0===m.suffixPercent||z.length<=m.fimSuffixLengthThreshold)return O.fulfill(m.maxPromptLength);{let e=n.offset;m.suffixStartMode!==w.Cursor&&m.suffixStartMode!==w.CursorTrimStart&&(e=await(0,o.getSiblingFunctionStart)(n));const r=m.maxPromptLength-t.TOKENS_RESERVED_FOR_SUFFIX_ENCODING;let s=Math.floor(r*(100-m.suffixPercent)/100),i=O.fulfill(s);const a=r-i.prefixLength;let u=S.slice(e);m.suffixStartMode!==w.SiblingBlockTrimStart&&m.suffixStartMode!==w.CursorTrimStart||(u=u.trimStart());const _=g.takeFirstTokens(u,a);if(_.tokens.length<=a-3&&(s=r-_.tokens.length,i=O.fulfill(s)),m.suffixMatchCriteria===y.Equal)_.tokens.length===c.tokens.length&&_.tokens.every(((e,t)=>e===c.tokens[t]))&&(b=!0);else if(m.suffixMatchCriteria===y.Levenshtein&&_.tokens.length>0&&m.suffixMatchThreshold>0){const e=(0,l.findEditDistanceScore)(_.tokens.slice(0,t.MAX_EDIT_DISTANCE_LENGTH),c.tokens.slice(0,t.MAX_EDIT_DISTANCE_LENGTH))?.score;100*e<m.suffixMatchThreshold*Math.min(t.MAX_EDIT_DISTANCE_LENGTH,_.tokens.length)&&(b=!0)}return!0===b&&c.tokens.length<=a?(c.tokens.length<=a-3&&(s=r-c.tokens.length,i=O.fulfill(s)),i.suffix=c.text,i.suffixLength=c.tokens.length):(i.suffix=_.text,i.suffixLength=_.tokens.length,c=_),i}}},7670:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSiblingFunctionStart=void 0;const r=n(8306);t.getSiblingFunctionStart=async function({source:e,offset:t,languageId:n}){if((0,r.isSupportedLanguageId)(n)){const o=await(0,r.parseTreeSitter)(n,e);try{let s=t;for(;s>=0&&/\s/.test(e[s]);)s--;const i=o.rootNode.descendantForIndex(s),a=(0,r.getAncestorWithSiblingFunctions)(n,i);if(a){for(let e=a.nextSibling;e;e=e.nextSibling)if((0,r.isFunctionDefinition)(n,e)){const n=(0,r.getFirstPrecedingComment)(e),o=n?.startIndex??e.startIndex;if(o<t)continue;return o}if(a.endIndex>=t)return a.endIndex}}finally{o.delete()}}return t}},648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCursorContext=void 0;const r=n(1145),o={tokenizerName:r.TokenizerName.cushman002};t.getCursorContext=function(e,t={}){const n=function(e){return{...o,...e}}(t),s=(0,r.getTokenizer)(n.tokenizerName);if(void 0!==n.maxLineCount&&n.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(void 0!==n.maxTokenLength&&n.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(0===n.maxLineCount||0===n.maxTokenLength)return{context:"",lineCount:0,tokenLength:0,tokenizerName:n.tokenizerName};let i=e.source.slice(0,e.offset);return void 0!==n.maxLineCount&&(i=i.split("\n").slice(-n.maxLineCount).join("\n")),void 0!==n.maxTokenLength&&(i=s.takeLastLinesTokens(i,n.maxTokenLength)),{context:i,lineCount:i.split("\n").length,tokenLength:s.tokenLength(i),tokenizerName:n.tokenizerName}}},6845:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CursorHistoryMatcher=t.CursorSnippetsPickingStrategy=void 0;const r=n(8312),o=n(648),s=n(9404),i=n(1467),a=n(4830),l=n(5380);var u;!function(e){e.CursorOnly="cursoronly",e.CursorJaccard="cursorjaccard",e.JaccardCursor="jaccardcursor"}(u=t.CursorSnippetsPickingStrategy||(t.CursorSnippetsPickingStrategy={}));const _=new class{constructor(e){this.keys=[],this.cache={},this.size=e}put(e,t){if(this.cache[e]=t,this.keys.length>this.size){this.keys.push(e);const t=this.keys.shift()??"";delete this.cache[t]}}get(e){return this.cache[e]}}(20);class c extends i.WindowedMatcher{constructor(e,t){super(e),this.windowLength=t}id(){return"CustomizedFixedWindowSizeJaccardMatcher:"+this.windowLength}getWindowsDelineations(e){return(0,l.getBasicWindowDelineations)(this.windowLength,e)}_getCursorContextInfo(e){return(0,o.getCursorContext)(e,{maxLineCount:this.windowLength})}similarityScore(e,t){return(0,s.computeScore)(e,t)}retrieveAllSnippets(e,t=i.SortOptions.Descending,n){const r=[];if(0===e.source.length||0===this.referenceTokens.size)return r;const o=e.source.split("\n"),s=this.id()+":"+e.source,a=_.get(s)??[],l=0==a.length,u=l?o.map(this.tokenizer.tokenize,this.tokenizer):[];for(const[e,[t,s]]of this.getWindowsDelineations(o).entries()){if(l){const e=new Set;u.slice(t,s).forEach((t=>t.forEach(e.add,e))),a.push(e)}if(void 0!==n&&n.get(t)!==s)continue;const o=a[e],i=this.similarityScore(o,this.referenceTokens);r.push({score:i,startLine:t,endLine:s})}return l&&_.put(s,a),this.sortScoredSnippets(r,t)}}class d{constructor(e,t,n,r){this.windowLength=t,this.lineCursorHistory=n,this.jaccardMatcher=new c(e,t),this.strategy=r}sortScoredSnippets(e,t=i.SortOptions.Descending){return t==i.SortOptions.Ascending?e.sort(((e,t)=>e.score>t.score?1:-1)):t==i.SortOptions.Descending?e.sort(((e,t)=>e.score>t.score?-1:1)):e}markerToSnippet(e,t){return e.map((e=>({snippet:t.slice(e.startLine,e.endLine).join("\n"),provider:a.SnippetProviderType.NeighboringTabs,semantics:a.SnippetSemantics.Snippet,...e})))}async findMatches(e,t=r.SnippetSelectionOption.BestMatch,n){if(t==r.SnippetSelectionOption.BestMatch){const t=await this.findBestMatch(e);return void 0===t?[]:[t]}return t==r.SnippetSelectionOption.TopK&&await this.findTopKMatches(e,n)||[]}async findBestMatch(e){if(0!==e.source.length){if(this.strategy===u.CursorOnly){let t=this.retrieveCursorSnippets(e);if(t=this.sortScoredSnippets(t,i.SortOptions.Descending),0===t.length)return;const n=Math.max(...t.map((e=>e.score))),r=t.filter((e=>e.score===n)),o=r.sort(((e,t)=>e.startLine-t.startLine))[Math.floor(r.length/2)];return{snippet:e.source.split("\n").slice(o.startLine,o.endLine).join("\n"),provider:a.SnippetProviderType.NeighboringTabs,semantics:a.SnippetSemantics.Snippet,...o}}if(this.strategy===u.CursorJaccard){let t=this.retrieveCursorSnippets(e);if(t=this.sortScoredSnippets(t,i.SortOptions.Descending),0===t.length)return;const n=Math.max(...t.map((e=>e.score))),r=[],o=new Map;for(const e of t)e.score===n&&(r.push(e),o.set(e.startLine,e.endLine));const s=this.jaccardMatcher.retrieveAllSnippets(e,i.SortOptions.Descending,o);if(0===s.length)return;const l=s[0];for(const e of t)if(e.startLine===l.startLine&&e.endLine===l.endLine){l.score+=e.score;break}return{snippet:e.source.split("\n").slice(l.startLine,l.endLine).join("\n"),provider:a.SnippetProviderType.NeighboringTabs,semantics:a.SnippetSemantics.Snippet,...l}}if(this.strategy===u.JaccardCursor){const t=await this.jaccardMatcher.findBestMatch(e);if(void 0===t)return;let n=this.retrieveCursorSnippets(e);if(n=this.sortScoredSnippets(n,i.SortOptions.Descending),0===n.length)return;for(const e of n)if(e.startLine===t.startLine&&e.endLine===t.endLine){t.score+=e.score;break}return t}}}async findTopKMatches(e,t=1){if(0===e.source.length||t<1)return;const n=e.source.split("\n");let r=this.retrieveCursorSnippets(e);if(0!==r.length){if(this.strategy===u.CursorOnly){r=this.sortScoredSnippets(r,i.SortOptions.Descending);let e=this.gatherNonOverlappingSnippets(r,t);return this.markerToSnippet(e,n)}if(this.strategy===u.CursorJaccard){r=this.sortScoredSnippets(r,i.SortOptions.Descending);const o=new Map(r.map((e=>[e.startLine,e.endLine]))),s=this.jaccardMatcher.retrieveAllSnippets(e,i.SortOptions.Descending,o).reduce(((e,t)=>e.set([t.startLine,t.endLine].join(","),t.score)),new Map);r.forEach((e=>e.score+=s.get([e.startLine,e.endLine].join(","))??0)),r=this.sortScoredSnippets(r,i.SortOptions.Descending);let a=this.gatherNonOverlappingSnippets(r,t);return this.markerToSnippet(a,n)}if(this.strategy===u.JaccardCursor){const o=await this.jaccardMatcher.findTopKMatches(e,t);if(void 0===o)return;const s=r.reduce(((e,t)=>e.set([t.startLine,t.endLine].join(","),t.score)),new Map);o.forEach((e=>e.score+=s.get([e.startLine,e.endLine].join(","))??0));const a=this.sortScoredSnippets(o,i.SortOptions.Descending);return this.markerToSnippet(a,n)}}}gatherNonOverlappingSnippets(e,t){let n=[e[0]];for(let r=1;r<e.length&&n.length<t;r++)-1==n.findIndex((t=>e[r].startLine<t.endLine&&e[r].endLine>t.startLine))&&n.push(e[r]);return n}retrieveCursorSnippets(e){const t=[];if(0===e.source.length)return t;const n=this.lineCursorHistory.get(e.uri);if(void 0===n)return t;const r=e.source.split("\n");let o;!function(e){e[e.leftBoundary=0]="leftBoundary",e[e.rightBoundary=1]="rightBoundary"}(o||(o={}));let s=[];for(const[e,t]of n.entries())e>=r.length||(s.push([Math.max(0,e-this.windowLength+1),o.leftBoundary,t]),s.push([e+1,o.rightBoundary,t]));s.push([r.length,o.leftBoundary,0]),s=s.sort(((e,t)=>e[0]-t[0]));let i=0,a=0;for(const[e,n,l]of s){if(i>0)for(let n=a;n<e&&(0==n||n+this.windowLength<=r.length);n++)t.push({score:i,startLine:n,endLine:Math.min(r.length,n+this.windowLength)});n===o.leftBoundary?i+=l:i-=l,a=e}return t}}t.CursorHistoryMatcher=d,d.FACTORY=(e,t,n)=>({to:r=>new d(r,e,t,n)})},9404:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeScore=t.FunctionJaccardMatcher=t.FixedWindowSizeJaccardMatcher=void 0;const r=n(648),o=n(1467),s=n(5380);class i extends o.WindowedMatcher{constructor(e,t){super(e),this.windowLength=t}id(){return"fixed:"+this.windowLength}getWindowsDelineations(e){return(0,s.getBasicWindowDelineations)(this.windowLength,e)}_getCursorContextInfo(e){return(0,r.getCursorContext)(e,{maxLineCount:this.windowLength})}similarityScore(e,t){return l(e,t)}}t.FixedWindowSizeJaccardMatcher=i,i.FACTORY=e=>({to:t=>new i(t,e)});class a extends o.FunctionalMatcher{id(){return"function:"+this.windowLength}getWindowsDelineations(e){return(0,s.getBasicWindowDelineations)(this.windowLength,e)}constructor(e,t){super(e),this.windowLength=t}_getCursorContextInfo(e){return(0,r.getCursorContext)(e,{maxLineCount:this.windowLength})}similarityScore(e,t){return l(e,t)}}function l(e,t){const n=new Set;return e.forEach((e=>{t.has(e)&&n.add(e)})),n.size/(e.size+t.size-n.size)}t.FunctionJaccardMatcher=a,a.FACTORY=e=>({to:t=>new a(t,e)}),t.computeScore=l},9125:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNeighborSnippets=t.neighborOptionToSelection=t.NeighboringSnippetType=t.NeighboringTabsOption=void 0;const r=n(9491),o=n(6845),s=n(9404);var i,a;(a=t.NeighboringTabsOption||(t.NeighboringTabsOption={})).None="none",a.Conservative="conservative",a.Medium="medium",a.Eager="eager",a.EagerButLittle="eagerButLittle",a.EagerButMedium="eagerButMedium",a.EagerButMuch="eagerButMuch",a.RetrievalComparable="retrievalComparable",function(e){e.NeighboringFunctions="neighboringFunction",e.NeighboringSnippets="neighboringSnippet",e.CursorHistoryMatcher="cursorhistorymatcher"}(i=t.NeighboringSnippetType||(t.NeighboringSnippetType={})),t.neighborOptionToSelection={none:{snippetLength:1,threshold:-1,numberOfSnippets:0},conservative:{snippetLength:10,threshold:.3,numberOfSnippets:1},medium:{snippetLength:20,threshold:.1,numberOfSnippets:2},eager:{snippetLength:60,threshold:0,numberOfSnippets:4},eagerButLittle:{snippetLength:10,threshold:0,numberOfSnippets:1},eagerButMedium:{snippetLength:20,threshold:0,numberOfSnippets:4},eagerButMuch:{snippetLength:60,threshold:0,numberOfSnippets:6},retrievalComparable:{snippetLength:30,threshold:0,numberOfSnippets:4}},t.getNeighborSnippets=async function(e,n,a,l,u,_,c,d){const p={...t.neighborOptionToSelection[l]},h=function(e,t,n,a,l=o.CursorSnippetsPickingStrategy.CursorJaccard){let u;return t===i.NeighboringSnippets?u=s.FixedWindowSizeJaccardMatcher.FACTORY(n.snippetLength):t===i.NeighboringFunctions?u=s.FunctionJaccardMatcher.FACTORY(n.snippetLength):((0,r.ok)(void 0!==a,"lineCursorHistory should not be undefined"),u=o.CursorHistoryMatcher.FACTORY(n.snippetLength,a,l)),u.to(e)}(e,a,p,c,d);return 0===p.numberOfSnippets?[]:(await n.filter((e=>e.source.length<1e4&&e.source.length>0)).slice(0,20).reduce((async(e,t)=>(await e).concat((await h.findMatches(t,u,_)).map((e=>({relativePath:t.relativePath,...e}))))),Promise.resolve([]))).filter((e=>e.score&&e.snippet&&e.score>p.threshold)).sort(((e,t)=>e.score-t.score)).slice(-p.numberOfSnippets)}},1467:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitIntoWords=t.FunctionalMatcher=t.WindowedMatcher=t.SortOptions=void 0;const r=n(8306),o=n(8312),s=n(4830);var i;!function(e){e.Ascending="ascending",e.Descending="descending",e.None="none"}(i=t.SortOptions||(t.SortOptions={}));class a{constructor(e){this.stopsForLanguage=p.get(e.languageId)??d}tokenize(e){return new Set(_(e).filter((e=>!this.stopsForLanguage.has(e))))}}const l=new class{constructor(e){this.keys=[],this.cache={},this.size=e}put(e,t){if(this.cache[e]=t,this.keys.length>this.size){this.keys.push(e);const t=this.keys.shift()??"";delete this.cache[t]}}get(e){return this.cache[e]}}(20);class u{constructor(e){this.referenceDoc=e,this.tokenizer=new a(e)}get referenceTokens(){return this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(e,t=i.Descending){return t==i.Ascending?e.sort(((e,t)=>e.score>t.score?1:-1)):t==i.Descending?e.sort(((e,t)=>e.score>t.score?-1:1)):e}retrieveAllSnippets(e,t=i.Descending){const n=[];if(0===e.source.length||0===this.referenceTokens.size)return n;const r=e.source.split("\n"),o=this.id()+":"+e.source,s=l.get(o)??[],a=0==s.length,u=a?r.map(this.tokenizer.tokenize,this.tokenizer):[];for(const[e,[t,o]]of this.getWindowsDelineations(r).entries()){if(a){const e=new Set;u.slice(t,o).forEach((t=>t.forEach(e.add,e))),s.push(e)}const r=s[e],i=this.similarityScore(r,this.referenceTokens);n.push({score:i,startLine:t,endLine:o})}return a&&l.put(o,s),this.sortScoredSnippets(n,t)}async findMatches(e,t=o.SnippetSelectionOption.BestMatch,n){if(t==o.SnippetSelectionOption.BestMatch){const t=await this.findBestMatch(e);return t?[t]:[]}return t==o.SnippetSelectionOption.TopK&&await this.findTopKMatches(e,n)||[]}async findBestMatch(e){if(0===e.source.length||0===this.referenceTokens.size)return;const t=e.source.split("\n"),n=this.retrieveAllSnippets(e,i.Descending);return 0!==n.length&&0!==n[0].score?{snippet:t.slice(n[0].startLine,n[0].endLine).join("\n"),semantics:s.SnippetSemantics.Snippet,provider:s.SnippetProviderType.NeighboringTabs,...n[0]}:void 0}async findTopKMatches(e,t=1){if(0===e.source.length||0===this.referenceTokens.size||t<1)return;const n=e.source.split("\n"),r=this.retrieveAllSnippets(e,i.Descending);if(0===r.length||0===r[0].score)return;const o=[r[0]];for(let e=1;e<r.length&&o.length<t;e++)-1==o.findIndex((t=>r[e].startLine<t.endLine&&r[e].endLine>t.startLine))&&o.push(r[e]);return o.map((e=>({snippet:n.slice(e.startLine,e.endLine).join("\n"),semantics:s.SnippetSemantics.Snippet,provider:s.SnippetProviderType.NeighboringTabs,...e})))}}function _(e){return e.split(/[^a-zA-Z0-9]/).filter((e=>e.length>0))}t.WindowedMatcher=u,t.FunctionalMatcher=class extends u{constructor(e){super(e)}getMatchingScore(e){const t=this.tokenizer.tokenize(e.source),n=this.similarityScore(t,this.referenceTokens);return{snippet:e.source,score:n,startLine:0,endLine:0}}async findBestMatch(e){const t=await this.findMatches(e);if(0!==t.length&&0!==t[0].score)return t[0]}async findMatches(e,t,n){if(0===e.source.length||0===this.referenceTokens.size)return[];const o=await async function(e){let t=[];if((0,r.isSupportedLanguageId)(e.languageId)){const n=await(0,r.getFunctionPositions)(e.languageId,e.source);for(let r=0;r<n.length;r++){let{startIndex:o,endIndex:s}=n[r],i=e.source.substring(o,s);t.push({source:i,relativePath:e.relativePath,languageId:e.languageId,uri:e.uri})}}return t}(e);if(0==o.length){const t=e.source.split("\n"),n=this.retrieveAllSnippets(e,i.Descending);return 0===n.length||0===n[0].score?[]:[{snippet:t.slice(n[0].startLine,n[0].endLine).join("\n"),semantics:s.SnippetSemantics.Snippet,provider:s.SnippetProviderType.NeighboringTabs,...n[0]}]}const a=[];for(let e of o){const t=this.getMatchingScore(e);a.push({semantics:s.SnippetSemantics.Function,provider:s.SnippetProviderType.NeighboringTabs,...t})}return a}},t.splitIntoWords=_;const c=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),d=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...c]),p=new Map([])},4830:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processSnippetsForWishlist=t.selectSnippets=t.normalizeSnippetScore=t.announceSnippet=t.SnippetSemantics=t.SnippetProviderType=void 0;const r=n(2417);var o,s;(s=t.SnippetProviderType||(t.SnippetProviderType={})).NeighboringTabs="neighboring-tabs",s.Retrieval="retrieval",s.SymbolDef="symbol-def",s.Language="language",s.Path="path",s.LocalImportContext="local-import-context",function(e){e.Function="function",e.Snippet="snippet",e.Variable="variable",e.Parameter="parameter",e.Method="method",e.Class="class",e.Module="module",e.Alias="alias",e.Enum="enum member",e.Interface="interface"}(o=t.SnippetSemantics||(t.SnippetSemantics={}));const i={[o.Function]:"function",[o.Snippet]:"snippet",[o.Variable]:"variable",[o.Parameter]:"parameter",[o.Method]:"method",[o.Class]:"class",[o.Module]:"module",[o.Alias]:"alias",[o.Enum]:"enum member",[o.Interface]:"interface"};function a(e,t){const n=i[e.semantics];let o=(e.relativePath?`Compare this ${n} from ${e.relativePath}:`:`Compare this ${n}:`)+"\n"+e.snippet;return o.endsWith("\n")||(o+="\n"),(0,r.commentBlockAsSingles)(o,t)}function l(e,t){const n=t[e.provider];if(!n)throw new Error("Unknown snippet provider: "+e.provider);const{score:r,...o}=e;let s=r;if("affine"!==n.normalizationFunction)throw new Error(`Unknown normalization function ${n.normalizationFunction} for snippet provider ${e.provider}`);{const[e,t]=n.normalizationParams;s=e*r+t}return{...o,providerScore:r,normalizedScore:s}}function u(e){e.sort(((e,t)=>t.normalizedScore-e.normalizedScore))}function _(e,t,n){if(0==t)return{reserved:[],candidates:[]};const r=e.map((e=>l(e,n))),o=new Map;let s;for(s in n)o.set(s,[]);for(const e of r){let t=o.get(e.provider);if(!t)throw new Error("Unknown snippet provider: "+e.provider);t.push(e)}for(const[e,t]of o)u(t);let i=[];for(s in n){const e=n[s].reservedSnippetCount||0;if(e>0){const t=o.get(s)||[];i=i.concat(t.slice(0,e)),o.set(s,t.slice(e))}}u(i);let a=[];if(i.length>t)throw new Error("Reserved snippet count exceeds number of snippets");if(i.length<t){const e=Array.from(o.values()).flat();u(e),a=e.slice(0,t-i.length)}return{reserved:i,candidates:a}}t.announceSnippet=a,t.normalizeSnippetScore=l,t.selectSnippets=_,t.processSnippetsForWishlist=function(e,t,n,r,o,s,i){const{reserved:l,candidates:c}=_(e,s,r);let d=0,p=[],h=o.high,m=o.low;function f(e,r){const s=a(e,t),l=n.tokenLength(s);let u;return r+l<=i?(u=h,h=o.priorities.justBelow(u)):(u=m,m=o.priorities.justBelow(u)),p.push({announcedSnippet:s,provider:e.provider,providerScore:e.providerScore,normalizedScore:e.normalizedScore,priority:u,tokens:l,relativePath:e.relativePath}),r+l}for(const e of[...l,...c]){if(p.length>=s)break;d=f(e,d)}return u(p),p.reverse(),p}},5380:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIndentationWindowsDelineations=t.getBasicWindowDelineations=void 0;const r=n(8617),o=n(3469);t.getBasicWindowDelineations=function(e,t){const n=[],r=t.length;if(0==r)return[];if(r<e)return[[0,r]];for(let t=0;t<r-e+1;t++)n.push([t,t+e]);return n},t.getIndentationWindowsDelineations=function(e,t,n,s){if(e.length<n||0==s)return[];const i=[],a=(0,r.clearLabels)((0,o.parseTree)(e.join("\n"),t));return(0,r.visitTree)(a,(e=>{if("blank"===e.type)return void(e.label={totalLength:1,firstLineAfter:e.lineNumber+1});let t="line"===e.type?1:0,r="line"===e.type?e.lineNumber+1:NaN;function o(n){return-1==n?r-t:e.subs[n].label.firstLineAfter-e.subs[n].label.totalLength}function a(t,n){return 0==t?n+1:e.subs[t-1].label.firstLineAfter}let l="line"===e.type?-1:0,u="line"===e.type?1:0,_=0;for(let c=0;c<e.subs.length;c++){for(;l>=0&&l<e.subs.length&&"blank"===e.subs[l].type;)u-=e.subs[l].label.totalLength,l++;if("blank"!==e.subs[c].type&&(_=c),r=e.subs[c].label.firstLineAfter,t+=e.subs[c].label.totalLength,u+=e.subs[c].label.totalLength,u>s){const t=o(l),r=a(c,t),d=_==c?r:a(_,t);for(n<=r-t&&i.push([t,d]);u>s;)u-=-1==l?"line"==e.type?1:0:e.subs[l].label.totalLength,l++}}if(l<e.subs.length){const t=o(l),s=r,a=-1==l?s:e.subs[_].label.firstLineAfter;n<=s-t&&i.push([t,a])}e.label={totalLength:t,firstLineAfter:r}}),"bottomUp"),i.sort(((e,t)=>e[0]-t[0]||e[1]-t[1])).filter(((e,t,n)=>0==t||e[0]!=n[t-1][0]||e[1]!=n[t-1][1]))}},2395:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findEditDistanceScore=void 0,t.findEditDistanceScore=function(e,t){if(0===e.length||0===t.length)return{score:e.length+t.length};const n=Array.from({length:e.length}).map((()=>Array.from({length:t.length}).map((()=>0))));for(let t=0;t<e.length;t++)n[t][0]=t;for(let e=0;e<t.length;e++)n[0][e]=e;for(let r=0;r<t.length;r++)for(let o=0;o<e.length;o++)n[o][r]=Math.min((0==o?r:n[o-1][r])+1,(0==r?o:n[o][r-1])+1,(0==o||0==r?Math.max(o,r):n[o-1][r-1])+(e[o]==t[r]?0:1));return{score:n[e.length-1][t.length-1]}}},1145:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(9323),t)},9323:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getTokenizer=t.TokenizerName=void 0;const i=s(n(7147)),a=s(n(1017)),l=n(3837),u=(e,t)=>Array.from(Array(t).keys()).slice(e),_=e=>e.charCodeAt(0),c=new l.TextDecoder("utf-8"),d=e=>c.decode(new Uint8Array(e));function p(e){const t=new Set;let n=e[0];for(let r=1;r<e.length;r++){const o=e[r];t.add([n,o]),n=o}return t}const h=/'s|'t|'re|'ve|'m|'ll|'d| ?\p{L}+| ?\p{N}+| ?[^\s\p{L}\p{N}]+|\s+(?!\S)|\s+/gu;var m;!function(e){e.cushman001="cushman001",e.cushman002="cushman002",e.mock="mock"}(m=t.TokenizerName||(t.TokenizerName={}));const f=new Map;t.getTokenizer=function(e=m.cushman002){let t=f.get(e);return void 0!==t||(t=e===m.mock?new y:new g(e),f.set(e,t)),t};class g{constructor(e=m.cushman002){this.decoder=new Map,this.byte_encoder=new Map,this.byte_decoder=new Map,this.cache=new Map,this.textEncoder=new l.TextEncoder,this.encodeStr=e=>Array.from(this.textEncoder.encode(e));let t="",n="";if(e===m.cushman001)t="vocab_cushman001.bpe",n="tokenizer_cushman001.json";else{if(e!==m.cushman002)throw new Error(`Unknown tokenizer name: ${e}`);t="vocab_cushman002.bpe",n="tokenizer_cushman002.json"}const r=i.readFileSync(a.resolve(__dirname,"resources",e,n)),o=JSON.parse(r.toString());this.encoder=new Map(Object.entries(o));for(let[e,t]of this.encoder)this.decoder.set(t,e);const s=i.readFileSync(a.resolve(__dirname,"resources",e,t),"utf-8").split("\n").slice(1).filter((e=>e.trim().length>0));this.bpe_ranks=((e,t)=>{const n=new Map;return e.forEach(((r,o)=>{n.set(e[o],t[o])})),n})(s,u(0,s.length)),function(e){const t=u(_("!"),_("~")+1).concat(u(_("¡"),_("¬")+1),u(_("®"),_("ÿ")+1));let n=t.slice(),r=0;for(let e=0;e<256;e++)t.includes(e)||(t.push(e),n.push(256+r),r+=1);const o=n.map((e=>(e=>String.fromCharCode(e))(e)));for(let n=0;n<t.length;n++)e.set(t[n],o[n])}(this.byte_encoder),this.byte_encoder.forEach(((e,t,n)=>{this.byte_decoder.set(e,t)}))}byteEncodeStr(e){return this.encodeStr(e).map((e=>this.byte_encoder.get(e)))}mutatingConcat(e,t){for(let n=0;n<t.length;n++)e.push(t[n]);return e}bpe(e){if(this.cache.has(e))return this.cache.get(e);let t=this.byteEncodeStr(e),n=p(t);if(!n)return t.map((e=>this.encoder.get(e)));for(;;){const e=new Map;n.forEach((t=>{const n=t.join(" "),r=this.bpe_ranks.get(n);e.set(void 0===r||isNaN(r)?1e11:r,t)}));const r=Array.from(e.keys()).map((e=>Number(e))),o=e.get(Math.min(...r));if(!o||!this.bpe_ranks.has(o.join(" ")))break;const s=o[0],i=o[1];let a=[],l=0;for(;l<t.length;){const e=t.indexOf(s,l);if(-1===e){this.mutatingConcat(a,t.slice(l));break}this.mutatingConcat(a,t.slice(l,e)),l=e,t[l]===s&&l<t.length-1&&t[l+1]===i?(a.push(s+i),l+=2):(a.push(t[l]),l+=1)}if(t=a,1===t.length)break;n=p(t)}const r=t.map((e=>this.encoder.get(e)));return this.cache.set(e,r),r}tokenize(e){let t=[];const n=Array.from(e.matchAll(h)).map((e=>e[0]));for(let e of n){const n=this.bpe(e);this.mutatingConcat(t,n)}return t}tokenLength(e){return this.tokenize(e).length}takeLastTokens(e,t){if(t<=0)return"";let n=Math.min(e.length,4*t),r=e.slice(-n),o=this.tokenize(r);for(;o.length<t+2&&n<e.length;)n=Math.min(e.length,n+1*t),r=e.slice(-n),o=this.tokenize(r);return o.length<t?e:(o=o.slice(-t),this.detokenize(o))}takeFirstTokens(e,t){if(t<=0)return{text:"",tokens:[]};let n=Math.min(e.length,4*t),r=e.slice(0,n),o=this.tokenize(r);for(;o.length<t+2&&n<e.length;)n=Math.min(e.length,n+1*t),r=e.slice(0,n),o=this.tokenize(r);return o.length<t?{text:e,tokens:o}:(o=o.slice(0,t),{text:this.detokenize(o),tokens:o})}takeLastLinesTokens(e,t){const n=this.takeLastTokens(e,t);if(n.length===e.length||"\n"===e[e.length-n.length-1])return n;let r=n.indexOf("\n");return n.substring(r+1)}detokenize(e){let t=e.map((e=>this.decoder.get(e))).join("");return t=d(t.split("").map((e=>this.byte_decoder.get(e)))),t}tokenizeStrings(e){return this.tokenize(e).map((e=>d(this.decoder.get(e).split("").map((e=>this.byte_decoder.get(e))))))}}class y{constructor(){this.hash=e=>{let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=65535&t;return t}}tokenize(e){return this.tokenizeStrings(e).map(this.hash)}detokenize(e){return e.map((e=>e.toString())).join(" ")}tokenizeStrings(e){return e.split(/\b/)}tokenLength(e){return this.tokenizeStrings(e).length}takeLastTokens(e,t){return this.tokenizeStrings(e).slice(-t).join("")}takeFirstTokens(e,t){const n=this.tokenizeStrings(e).slice(0,t);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(e,t){const n=this.takeLastTokens(e,t);if(n.length===e.length||"\n"===e[e.length-n.length-1])return n;let r=n.indexOf("\n");return n.substring(r+1)}}},4456:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Priorities=t.PromptWishlist=t.PromptElementRanges=t.PromptChoices=t.PromptBackground=t.PromptElementKind=void 0;const r=n(8312);var o;!function(e){e.BeforeCursor="BeforeCursor",e.AfterCursor="AfterCursor",e.SimilarFile="SimilarFile",e.RetrievalSnippet="RetrievalSnippet",e.SymbolDefinition="SymbolDefinition",e.ImportedFile="ImportedFile",e.LanguageMarker="LanguageMarker",e.PathMarker="PathMarker"}(o=t.PromptElementKind||(t.PromptElementKind={}));class s{constructor(){this.used=new Map,this.unused=new Map}markUsed(e){this.IsSnippet(e)&&this.used.set(e.id,this.convert(e))}undoMarkUsed(e){this.IsSnippet(e)&&this.used.delete(e.id)}markUnused(e){this.IsSnippet(e)&&this.unused.set(e.id,this.convert(e))}convert(e){return{score:e.score.toFixed(4),length:e.text.length}}IsSnippet(e){return e.kind==o.SimilarFile||e.kind==o.RetrievalSnippet}}t.PromptBackground=s;class i{constructor(){this.used=new Map,this.unused=new Map,this.usedCounts=new Map,this.unusedCounts=new Map}markUsed(e){this.used.set(e.kind,(this.used.get(e.kind)||0)+e.tokens),this.usedCounts.set(e.kind,(this.usedCounts.get(e.kind)||0)+1)}undoMarkUsed(e){this.used.set(e.kind,(this.used.get(e.kind)||0)-e.tokens),this.usedCounts.set(e.kind,(this.usedCounts.get(e.kind)||0)-1)}markUnused(e){this.unused.set(e.kind,(this.unused.get(e.kind)||0)+e.tokens),this.unusedCounts.set(e.kind,(this.unusedCounts.get(e.kind)||0)+1)}}t.PromptChoices=i;class a{constructor(e){this.ranges=new Array;let t,n=0;for(const{element:r}of e)0!==r.text.length&&(t===o.BeforeCursor&&r.kind===o.BeforeCursor?this.ranges[this.ranges.length-1].end+=r.text.length:this.ranges.push({kind:r.kind,start:n,end:n+r.text.length}),t=r.kind,n+=r.text.length)}}t.PromptElementRanges=a,t.PromptWishlist=class{constructor(e,t){this.tokenizer=e,this.content=[],this.tokenizer=e,this.lineEndingOption=t}getContent(){return[...this.content]}convertLineEndings(e){return this.lineEndingOption===r.LineEndingOptions.ConvertToUnix&&(e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),e}append(e,t,n,r=this.tokenizer.tokenLength(e),o=NaN){e=this.convertLineEndings(e);const s=this.content.length;return this.content.push({id:s,text:e,kind:t,priority:n,tokens:r,requires:[],excludes:[],score:o}),s}appendLineForLine(e,t,n){const r=(e=this.convertLineEndings(e)).split("\n");for(let e=0;e<r.length-1;e++)r[e]+="\n";const o=[];r.forEach(((e,t)=>{"\n"===e&&o.length>0&&!o[o.length-1].endsWith("\n\n")?o[o.length-1]+="\n":o.push(e)}));const s=[];return o.forEach(((e,r)=>{""!==e&&(s.push(this.append(e,t,n)),r>0&&(this.content[this.content.length-2].requires=[this.content[this.content.length-1]]))})),s}require(e,t){const n=this.content.find((t=>t.id===e)),r=this.content.find((e=>e.id===t));n&&r&&n.requires.push(r)}exclude(e,t){const n=this.content.find((t=>t.id===e)),r=this.content.find((e=>e.id===t));n&&r&&n.excludes.push(r)}fulfill(e){const t=new i,n=new s,r=this.content.map(((e,t)=>({element:e,index:t})));r.sort(((e,t)=>e.element.priority===t.element.priority?t.index-e.index:t.element.priority-e.element.priority));const o=new Set,l=new Set;let u;const _=[];let c=e;r.forEach((e=>{const r=e.element,s=e.index;if(c>=0&&(c>0||void 0===u)&&r.requires.every((e=>o.has(e.id)))&&!l.has(r.id)){let i=r.tokens;const a=function(e,t){let n,r=1/0;for(const o of e)o.index>t&&o.index<r&&(n=o,r=o.index);return n}(_,s)?.element;r.text.endsWith("\n\n")&&a&&!a.text.match(/^\s/)&&i++,c>=i?(c-=i,o.add(r.id),r.excludes.forEach((e=>l.add(e.id))),t.markUsed(r),n.markUsed(r),_.push(e)):void 0===u?u=e:(t.markUnused(e.element),n.markUnused(e.element))}else t.markUnused(r),n.markUnused(r)})),_.sort(((e,t)=>e.index-t.index));let d=_.reduce(((e,t)=>e+t.element.text),""),p=this.tokenizer.tokenLength(d);for(;p>e;){_.sort(((e,t)=>t.element.priority===e.element.priority?t.index-e.index:t.element.priority-e.element.priority));const e=_.pop();e&&(t.undoMarkUsed(e.element),t.markUnused(e.element),n.undoMarkUsed(e.element),n.markUnused(e.element),void 0!==u&&(t.markUnused(u.element),n.markUnused(u.element)),u=void 0),_.sort(((e,t)=>e.index-t.index)),d=_.reduce(((e,t)=>e+t.element.text),""),p=this.tokenizer.tokenLength(d)}const h=[..._];if(void 0!==u){h.push(u),h.sort(((e,t)=>e.index-t.index));const r=h.reduce(((e,t)=>e+t.element.text),""),o=this.tokenizer.tokenLength(r);if(o<=e){t.markUsed(u.element),n.markUsed(u.element);const e=new a(h);return{prefix:r,suffix:"",prefixLength:o,suffixLength:0,promptChoices:t,promptBackground:n,promptElementRanges:e}}t.markUnused(u.element),n.markUnused(u.element)}const m=new a(_);return{prefix:d,suffix:"",prefixLength:p,suffixLength:0,promptChoices:t,promptBackground:n,promptElementRanges:m}}};class l{constructor(){this.registeredPriorities=[0,1]}register(e){if(e>l.TOP||e<l.BOTTOM)throw new Error("Priority must be between 0 and 1");return this.registeredPriorities.push(e),e}justAbove(...e){const t=Math.max(...e),n=Math.min(...this.registeredPriorities.filter((e=>e>t)));return this.register((n+t)/2)}justBelow(...e){const t=Math.min(...e),n=Math.max(...this.registeredPriorities.filter((e=>e<t)));return this.register((n+t)/2)}between(e,t){if(this.registeredPriorities.some((n=>n>e&&n<t))||!this.registeredPriorities.includes(e)||!this.registeredPriorities.includes(t))throw new Error("Priorities must be adjacent in the list of priorities");return this.register((e+t)/2)}}t.Priorities=l,l.TOP=1,l.BOTTOM=0},2524:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reset=t.workerProxy=t.WorkerProxy=t.workerFns=t.sleep=void 0,n(406);const r=n(1017),o=n(1267),s=n(5179),i=n(9125);function a(e){return new Promise((t=>{for(var n=(new Date).getTime();(new Date).getTime()<n+e;);t(`delay: ${e}`)}))}t.sleep=a,t.workerFns=["getNeighborSnippets","extractLocalImportContext","sleep"];class l{constructor(){this.nextHandlerId=0,this.handlers=new Map,this.fns=new Map,this.extractLocalImportContext=s.extractLocalImportContext,this.getNeighborSnippets=i.getNeighborSnippets,this.sleep=a,!o.isMainThread&&o.workerData&&this.configureWorkerResponse(o.workerData.port)}initWorker(){const{port1:e,port2:t}=new o.MessageChannel;this.port=e,this.worker=new o.Worker((0,r.resolve)(__dirname,"..","dist","workerProxy.js"),{workerData:{port:t},transferList:[t]}),this.port.on("message",(e=>this.handleMessage(e))),this.port.on("error",(e=>this.handleError(e)))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(const e of t.workerFns)this.fns.set(e,this[e]),this.proxy(e)}unproxyFunctions(){for(const e of t.workerFns){const t=this.fns.get(e);if(!t)throw new Error(`Unproxy function not found: ${e}`);this[e]=t}}configureWorkerResponse(e){this.port=e,this.port.on("message",(async({id:e,fn:t,args:n})=>{const r=this[t];if(!r)throw new Error(`Function not found: ${t}`);try{let t=await r.apply(this,n);this.port.postMessage({id:e,res:t})}catch(t){this.port.postMessage({id:e,err:t})}}))}handleMessage({id:e,err:t,res:n}){const r=this.handlers.get(e);r&&(this.handlers.delete(e),t?r.reject(t):r.resolve(n))}handleError(e){let t;if(console.log(e),e instanceof Error){t=e;const n=(new Error).stack;t.stack&&n?.match(/^Error\n/)&&(t.stack+=n.replace(/^Error/,""))}else t=new Error(`Non-error thrown: ${e}`);for(const e of this.handlers.values())e.reject(t);throw t}proxy(e){this[e]=function(...t){const n=this.nextHandlerId++;return new Promise(((r,o)=>{this.handlers.set(n,{resolve:r,reject:o}),this.port?.postMessage({id:n,fn:e,args:t})}))}}}t.WorkerProxy=l,t.workerProxy=new l,t.reset=()=>{t.workerProxy.stopThreading(),t.workerProxy=new l}},7373:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{URI:()=>o,Utils:()=>s}),(()=>{var e={470:e=>{function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",o=0,s=-1,i=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(s===a-1||1===i);else if(s!==a-1&&2===i){if(r.length<2||2!==o||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",o=0):o=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),s=a,i=0;continue}}else if(2===r.length||1===r.length){r="",o=0,s=a,i=0;continue}t&&(r.length>0?r+="/..":r="..",o=2)}else r.length>0?r+="/"+e.slice(s+1,a):r=e.slice(s+1,a),o=a-s-1;s=a,i=0}else 46===n&&-1!==i?++i:i=-1}return r}var r={resolve:function(){for(var e,r="",o=!1,s=arguments.length-1;s>=-1&&!o;s--){var i;s>=0?i=arguments[s]:(void 0===e&&(e=process.cwd()),i=e),t(i),0!==i.length&&(r=i+"/"+r,o=47===i.charCodeAt(0))}return r=n(r,!o),o?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),o=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&o&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var o=arguments[n];t(o),o.length>0&&(void 0===e?e=o:e+="/"+o)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var s=e.length,i=s-o,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var l=n.length-a,u=i<l?i:l,_=-1,c=0;c<=u;++c){if(c===u){if(l>u){if(47===n.charCodeAt(a+c))return n.slice(a+c+1);if(0===c)return n.slice(a+c)}else i>u&&(47===e.charCodeAt(o+c)?_=c:0===c&&(_=0));break}var d=e.charCodeAt(o+c);if(d!==n.charCodeAt(a+c))break;47===d&&(_=c)}var p="";for(c=o+_+1;c<=s;++c)c!==s&&47!==e.charCodeAt(c)||(0===p.length?p+="..":p+="/..");return p.length>0?p+n.slice(a+_):(a+=_,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,o=-1,s=!0,i=e.length-1;i>=1;--i)if(47===(n=e.charCodeAt(i))){if(!s){o=i;break}}else s=!1;return-1===o?r?"/":".":r&&1===o?"//":e.slice(0,o)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,o=0,s=-1,i=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,l=-1;for(r=e.length-1;r>=0;--r){var u=e.charCodeAt(r);if(47===u){if(!i){o=r+1;break}}else-1===l&&(i=!1,l=r+1),a>=0&&(u===n.charCodeAt(a)?-1==--a&&(s=r):(a=-1,s=l))}return o===s?s=l:-1===s&&(s=e.length),e.slice(o,s)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!i){o=r+1;break}}else-1===s&&(i=!1,s=r+1);return-1===s?"":e.slice(o,s)},extname:function(e){t(e);for(var n=-1,r=0,o=-1,s=!0,i=0,a=e.length-1;a>=0;--a){var l=e.charCodeAt(a);if(47!==l)-1===o&&(s=!1,o=a+1),46===l?-1===n?n=a:1!==i&&(i=1):-1!==n&&(i=-1);else if(!s){r=a+1;break}}return-1===n||-1===o||0===i||1===i&&n===o-1&&n===r+1?"":e.slice(n,o)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+"/"+r:r}(0,e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,o=e.charCodeAt(0),s=47===o;s?(n.root="/",r=1):r=0;for(var i=-1,a=0,l=-1,u=!0,_=e.length-1,c=0;_>=r;--_)if(47!==(o=e.charCodeAt(_)))-1===l&&(u=!1,l=_+1),46===o?-1===i?i=_:1!==c&&(c=1):-1!==i&&(c=-1);else if(!u){a=_+1;break}return-1===i||-1===l||0===c||1===c&&i===l-1&&i===a+1?-1!==l&&(n.base=n.name=0===a&&s?e.slice(1,l):e.slice(a,l)):(0===a&&s?(n.name=e.slice(1,i),n.base=e.slice(1,l)):(n.name=e.slice(a,i),n.base=e.slice(a,l)),n.ext=e.slice(i,l)),a>0?n.dir=e.slice(0,a-1):s&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{var e;if(n.r(o),n.d(o,{URI:()=>h,Utils:()=>T}),"object"==typeof process)e="win32"===process.platform;else if("object"==typeof navigator){var t=navigator.userAgent;e=t.indexOf("Windows")>=0}var r,s,i=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=/^\w[\w\d+.-]*$/,l=/^\//,u=/^\/\//;function _(e,t){if(!e.scheme&&t)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(e.authority,'", path: "').concat(e.path,'", query: "').concat(e.query,'", fragment: "').concat(e.fragment,'"}'));if(e.scheme&&!a.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!l.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(u.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}var c="",d="/",p=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,h=function(){function t(e,t,n,r,o,s){void 0===s&&(s=!1),"object"==typeof e?(this.scheme=e.scheme||c,this.authority=e.authority||c,this.path=e.path||c,this.query=e.query||c,this.fragment=e.fragment||c):(this.scheme=function(e,t){return e||t?e:"file"}(e,s),this.authority=t||c,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==d&&(t=d+t):t=d}return t}(this.scheme,n||c),this.query=r||c,this.fragment=o||c,_(this,s))}return t.isUri=function(e){return e instanceof t||!!e&&"string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"string"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString},Object.defineProperty(t.prototype,"fsPath",{get:function(){return b(this,!1)},enumerable:!1,configurable:!0}),t.prototype.with=function(e){if(!e)return this;var t=e.scheme,n=e.authority,r=e.path,o=e.query,s=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=c),void 0===n?n=this.authority:null===n&&(n=c),void 0===r?r=this.path:null===r&&(r=c),void 0===o?o=this.query:null===o&&(o=c),void 0===s?s=this.fragment:null===s&&(s=c),t===this.scheme&&n===this.authority&&r===this.path&&o===this.query&&s===this.fragment?this:new f(t,n,r,o,s)},t.parse=function(e,t){void 0===t&&(t=!1);var n=p.exec(e);return n?new f(n[2]||c,M(n[4]||c),M(n[5]||c),M(n[7]||c),M(n[9]||c),t):new f(c,c,c,c,c)},t.file=function(t){var n=c;if(e&&(t=t.replace(/\\/g,d)),t[0]===d&&t[1]===d){var r=t.indexOf(d,2);-1===r?(n=t.substring(2),t=d):(n=t.substring(2,r),t=t.substring(r)||d)}return new f("file",n,t,c,c)},t.from=function(e){var t=new f(e.scheme,e.authority,e.path,e.query,e.fragment);return _(t,!0),t},t.prototype.toString=function(e){return void 0===e&&(e=!1),E(this,e)},t.prototype.toJSON=function(){return this},t.revive=function(e){if(e){if(e instanceof t)return e;var n=new f(e);return n._formatted=e.external,n._fsPath=e._sep===m?e.fsPath:null,n}return e},t}(),m=e?1:void 0,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}return i(t,e),Object.defineProperty(t.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=b(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(e){return void 0===e&&(e=!1),e?E(this,!0):(this._formatted||(this._formatted=E(this,!1)),this._formatted)},t.prototype.toJSON=function(){var e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=m),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e},t}(h),g=((s={})[58]="%3A",s[47]="%2F",s[63]="%3F",s[35]="%23",s[91]="%5B",s[93]="%5D",s[64]="%40",s[33]="%21",s[36]="%24",s[38]="%26",s[39]="%27",s[40]="%28",s[41]="%29",s[42]="%2A",s[43]="%2B",s[44]="%2C",s[59]="%3B",s[61]="%3D",s[32]="%20",s);function y(e,t,n){for(var r=void 0,o=-1,s=0;s<e.length;s++){var i=e.charCodeAt(s);if(i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57||45===i||46===i||95===i||126===i||t&&47===i||n&&91===i||n&&93===i||n&&58===i)-1!==o&&(r+=encodeURIComponent(e.substring(o,s)),o=-1),void 0!==r&&(r+=e.charAt(s));else{void 0===r&&(r=e.substr(0,s));var a=g[i];void 0!==a?(-1!==o&&(r+=encodeURIComponent(e.substring(o,s)),o=-1),r+=a):-1===o&&(o=s)}}return-1!==o&&(r+=encodeURIComponent(e.substring(o))),void 0!==r?r:e}function w(e){for(var t=void 0,n=0;n<e.length;n++){var r=e.charCodeAt(n);35===r||63===r?(void 0===t&&(t=e.substr(0,n)),t+=g[r]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function b(t,n){var r;return r=t.authority&&t.path.length>1&&"file"===t.scheme?"//".concat(t.authority).concat(t.path):47===t.path.charCodeAt(0)&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&58===t.path.charCodeAt(2)?n?t.path.substr(1):t.path[1].toLowerCase()+t.path.substr(2):t.path,e&&(r=r.replace(/\//g,"\\")),r}function E(e,t){var n=t?w:y,r="",o=e.scheme,s=e.authority,i=e.path,a=e.query,l=e.fragment;if(o&&(r+=o,r+=":"),(s||"file"===o)&&(r+=d,r+=d),s){var u=s.indexOf("@");if(-1!==u){var _=s.substr(0,u);s=s.substr(u+1),-1===(u=_.lastIndexOf(":"))?r+=n(_,!1,!1):(r+=n(_.substr(0,u),!1,!1),r+=":",r+=n(_.substr(u+1),!1,!0)),r+="@"}-1===(u=(s=s.toLowerCase()).lastIndexOf(":"))?r+=n(s,!1,!0):(r+=n(s.substr(0,u),!1,!0),r+=s.substr(u))}if(i){if(i.length>=3&&47===i.charCodeAt(0)&&58===i.charCodeAt(2))(c=i.charCodeAt(1))>=65&&c<=90&&(i="/".concat(String.fromCharCode(c+32),":").concat(i.substr(3)));else if(i.length>=2&&58===i.charCodeAt(1)){var c;(c=i.charCodeAt(0))>=65&&c<=90&&(i="".concat(String.fromCharCode(c+32),":").concat(i.substr(2)))}r+=n(i,!0,!1)}return a&&(r+="?",r+=n(a,!1,!1)),l&&(r+="#",r+=t?l:y(l,!1,!1)),r}function S(e){try{return decodeURIComponent(e)}catch(t){return e.length>3?e.substr(0,3)+S(e.substr(3)):e}}var v=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function M(e){return e.match(v)?e.replace(v,(function(e){return S(e)})):e}var T,I=n(470),C=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},N=I.posix||I,A="/";!function(e){e.joinPath=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.with({path:N.join.apply(N,C([e.path],t,!1))})},e.resolvePath=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=e.path,o=!1;r[0]!==A&&(r=A+r,o=!0);var s=N.resolve.apply(N,C([r],t,!1));return o&&s[0]===A&&!e.authority&&(s=s.substring(1)),e.with({path:s})},e.dirname=function(e){if(0===e.path.length||e.path===A)return e;var t=N.dirname(e.path);return 1===t.length&&46===t.charCodeAt(0)&&(t=""),e.with({path:t})},e.basename=function(e){return N.basename(e.path)},e.extname=function(e){return N.extname(e.path)}}(T||(T={}))})(),r=o})();const{URI:o,Utils:s}=r},4087:(module,__unused_webpack_exports,__webpack_require__)=>{var Module=void 0!==Module?Module:{},TreeSitter=function(){var initPromise,document="object"==typeof window?{currentScript:window.document.currentScript}:null;class Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise((resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=(e,t)=>{throw t},ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_NODE="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}function logExceptionOnExit(e){e instanceof ExitStatus||err("exiting due to exception: "+e)}if(ENVIRONMENT_IS_NODE){var fs=__webpack_require__(7147),nodePath=__webpack_require__(1017);scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=(e,t)=>(e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFileSync(e,t?void 0:"utf8")),readBinary=e=>{var t=read_(e,!0);return t.buffer||(t=new Uint8Array(t)),t},readAsync=(e,t,n)=>{e=isFileURI(e)?new URL(e):nodePath.normalize(e),fs.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),module.exports=Module,quit_=(e,t)=>{if(keepRuntimeAlive())throw process.exitCode=e,t;logExceptionOnExit(t),process.exit(e)},Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:void 0!==document&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=0!==scriptDirectory.indexOf("blob:")?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},ENVIRONMENT_IS_WORKER&&(readBinary=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),readAsync=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)},setWindowTitle=e=>document.title=e);var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;"object"!=typeof WebAssembly&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(e,t,n){for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.buffer&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(t,o));for(var s="";t<o;){var i=e[t++];if(128&i){var a=63&e[t++];if(192!=(224&i)){var l=63&e[t++];if((i=224==(240&i)?(15&i)<<12|a<<6|l:(7&i)<<18|a<<12|l<<6|63&e[t++])<65536)s+=String.fromCharCode(i);else{var u=i-65536;s+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else s+=String.fromCharCode((31&i)<<6|a)}else s+=String.fromCharCode(i)}return s}function UTF8ToString(e,t){return e?UTF8ArrayToString(HEAPU8,e,t):""}function stringToUTF8Array(e,t,n,r){if(!(r>0))return 0;for(var o=n,s=n+r-1,i=0;i<e.length;++i){var a=e.charCodeAt(i);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++i)),a<=127){if(n>=s)break;t[n++]=a}else if(a<=2047){if(n+1>=s)break;t[n++]=192|a>>6,t[n++]=128|63&a}else if(a<=65535){if(n+2>=s)break;t[n++]=224|a>>12,t[n++]=128|a>>6&63,t[n++]=128|63&a}else{if(n+3>=s)break;t[n++]=240|a>>18,t[n++]=128|a>>12&63,t[n++]=128|a>>6&63,t[n++]=128|63&a}}return t[n]=0,n-o}function stringToUTF8(e,t,n){return stringToUTF8Array(e,HEAPU8,t,n)}function lengthBytesUTF8(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t}function updateGlobalBufferAndViews(e){buffer=e,Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e)}var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var t=dependenciesFulfilled;dependenciesFulfilled=null,t()}}function abort(e){throw Module.onAbort&&Module.onAbort(e),err(e="Aborted("+e+")"),ABORT=!0,EXITSTATUS=1,e+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(e)}var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(e){return e.startsWith(dataURIPrefix)}function isFileURI(e){return e.startsWith("file://")}function getBinary(e){try{if(e==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(e);throw"both async and sync fetching of the wasm failed"}catch(e){abort(e)}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if("function"==typeof fetch&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return e.arrayBuffer()})).catch((function(){return getBinary(wasmBinaryFile)}));if(readAsync)return new Promise((function(e,t){readAsync(wasmBinaryFile,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return getBinary(wasmBinaryFile)}))}function createWasm(){var e={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function t(e,t){var n=e.exports;n=relocateExports(n,1024);var r=getDylinkMetadata(t);r.neededDynlibs&&(dynamicLibraries=r.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(n,"main"),Module.asm=n,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}function n(e){t(e.instance,e.module)}function r(t){return getBinaryPromise().then((function(t){return WebAssembly.instantiate(t,e)})).then((function(e){return e})).then(t,(function(e){err("failed to asynchronously prepare wasm: "+e),abort(e)}))}if(addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(e,t)}catch(e){return err("Module.instantiateWasm callback failed with error: "+e),!1}return wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||"function"!=typeof fetch?r(n):fetch(wasmBinaryFile,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return err("wasm streaming compile failed: "+e),err("falling back to ArrayBuffer instantiation"),r(n)}))})),{}}wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:function(e,t){var n=GOT[t];return n||(n=GOT[t]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(t)||(n.required=!0),n}};function callRuntimeCallbacks(e){for(;e.length>0;)e.shift()(Module)}function getDylinkMetadata(e){var t=0,n=0;function r(){for(var n=0,r=1;;){var o=e[t++];if(n+=(127&o)*r,r*=128,!(128&o))break}return n}function o(){var n=r();return UTF8ArrayToString(e,(t+=n)-n,n)}function s(e,t){if(e)throw new Error(t)}var i="dylink.0";if(e instanceof WebAssembly.Module){var a=WebAssembly.Module.customSections(e,i);0===a.length&&(i="dylink",a=WebAssembly.Module.customSections(e,i)),s(0===a.length,"need dylink section"),n=(e=new Uint8Array(a[0])).length}else{s(!(1836278016==new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0]),"need to see wasm magic number"),s(0!==e[8],"need the dylink section to be first"),t=9;var l=r();n=t+l,i=o()}var u={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if("dylink"==i){u.memorySize=r(),u.memoryAlign=r(),u.tableSize=r(),u.tableAlign=r();for(var _=r(),c=0;c<_;++c){var d=o();u.neededDynlibs.push(d)}}else for(s("dylink.0"!==i);t<n;){var p=e[t++],h=r();if(1===p)u.memorySize=r(),u.memoryAlign=r(),u.tableSize=r(),u.tableAlign=r();else if(2===p)for(_=r(),c=0;c<_;++c)d=o(),u.neededDynlibs.push(d);else if(3===p)for(var m=r();m--;){var f=o();256&r()&&u.tlsExports.add(f)}else if(4===p)for(m=r();m--;)o(),f=o(),1==(3&r())&&u.weakImports.add(f);else t+=h}return u}function getValue(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];case"*":return HEAPU32[e>>2];default:abort("invalid type for getValue: "+t)}return null}function asmjsMangle(e){return 0==e.indexOf("dynCall_")||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(e)?e:"_"+e}function mergeLibSymbols(e,t){for(var n in e)if(e.hasOwnProperty(n)){asmLibraryArg.hasOwnProperty(n)||(asmLibraryArg[n]=e[n]);var r=asmjsMangle(n);Module.hasOwnProperty(r)||(Module[r]=e[n]),"__main_argc_argv"==n&&(Module._main=e[n])}}var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(e,t,n){var r=Module["dynCall_"+e];return n&&n.length?r.apply(null,[t].concat(n)):r.call(null,t)}var wasmTableMirror=[];function getWasmTableEntry(e){var t=wasmTableMirror[e];return t||(e>=wasmTableMirror.length&&(wasmTableMirror.length=e+1),wasmTableMirror[e]=t=wasmTable.get(e)),t}function dynCall(e,t,n){return e.includes("j")?dynCallLegacy(e,t,n):getWasmTableEntry(t).apply(null,n)}function createInvokeFunction(e){return function(){var t=stackSave();try{return dynCall(e,arguments[0],Array.prototype.slice.call(arguments,1))}catch(e){if(stackRestore(t),e!==e+0)throw e;_setThrew(1,0)}}}var ___heap_base=78144;function zeroMemory(e,t){return HEAPU8.fill(0,e,e+t),e}function getMemory(e){if(runtimeInitialized)return zeroMemory(_malloc(e),e);var t=___heap_base,n=t+e+15&-16;return ___heap_base=n,GOT.__heap_base.value=n,t}function isInternalSym(e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(e)}function uleb128Encode(e,t){e<128?t.push(e):t.push(e%128|128,e>>7)}function sigToWasmTypes(e){for(var t={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},n={parameters:[],results:"v"==e[0]?[]:[t[e[0]]]},r=1;r<e.length;++r)n.parameters.push(t[e[r]]),"j"===e[r]&&n.parameters.push("i32");return n}function generateFuncType(e,t){var n=e.slice(0,1),r=e.slice(1),o={i:127,p:127,j:126,f:125,d:124};t.push(96),uleb128Encode(r.length,t);for(var s=0;s<r.length;++s)t.push(o[r[s]]);"v"==n?t.push(0):t.push(1,o[n])}function convertJsFunctionToWasm(e,t){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(sigToWasmTypes(t),e);var n=[1];generateFuncType(t,n);var r=[0,97,115,109,1,0,0,0,1];uleb128Encode(n.length,r),r.push.apply(r,n),r.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var o=new WebAssembly.Module(new Uint8Array(r));return new WebAssembly.Instance(o,{e:{f:e}}).exports.f}function updateTableMap(e,t){if(functionsInTableMap)for(var n=e;n<e+t;n++){var r=getWasmTableEntry(n);r&&functionsInTableMap.set(r,n)}}var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return wasmTable.length-1}function setWasmTableEntry(e,t){wasmTable.set(e,t),wasmTableMirror[e]=wasmTable.get(e)}function addFunction(e,t){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(e))return functionsInTableMap.get(e);var n=getEmptyTableSlot();try{setWasmTableEntry(n,e)}catch(r){if(!(r instanceof TypeError))throw r;setWasmTableEntry(n,convertJsFunctionToWasm(e,t))}return functionsInTableMap.set(e,n),n}function updateGOT(e,t){for(var n in e)if(!isInternalSym(n)){var r=e[n];n.startsWith("orig$")&&(n=n.split("$")[1],t=!0),GOT[n]||(GOT[n]=new WebAssembly.Global({value:"i32",mutable:!0})),(t||0==GOT[n].value)&&("function"==typeof r?GOT[n].value=addFunction(r):"number"==typeof r?GOT[n].value=r:err("unhandled export type for `"+n+"`: "+typeof r))}}function relocateExports(e,t,n){var r={};for(var o in e){var s=e[o];"object"==typeof s&&(s=s.value),"number"==typeof s&&(s+=t),r[o]=s}return updateGOT(r,n),r}function resolveGlobalSymbol(e,t){var n;return t&&(n=asmLibraryArg["orig$"+e]),n||(n=asmLibraryArg[e])&&n.stub&&(n=void 0),n||(n=Module[asmjsMangle(e)]),!n&&e.startsWith("invoke_")&&(n=createInvokeFunction(e.split("_")[1])),n}function alignMemory(e,t){return Math.ceil(e/t)*t}function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(e){var t=resolveGlobalSymbol(e,!1);return t||(t=moduleExports[e]),t}tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:function(e,t){switch(t){case"__memory_base":return memoryBase;case"__table_base":return tableBase}return t in asmLibraryArg?asmLibraryArg[t]:(t in e||(e[t]=function(){return n||(n=resolveSymbol(t)),n.apply(null,arguments)}),e[t]);var n}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&-1!=body.indexOf("$"+arity);arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then((function(e){return postInstantiation(e.instance)}))}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce((function(e,t){return e.then((function(){return loadDynamicLibrary(t,flags)}))}),Promise.resolve()).then((function(){return loadModule()})):(metadata.neededDynlibs.forEach((function(e){loadDynamicLibrary(e,flags)})),loadModule())}function loadDynamicLibrary(e,t,n){t=t||{global:!0,nodelete:!0};var r=LDSO.loadedLibsByName[e];if(r)return t.global&&!r.global&&(r.global=!0,"loading"!==r.module&&mergeLibSymbols(r.module,e)),t.nodelete&&r.refcount!==1/0&&(r.refcount=1/0),r.refcount++,n&&(LDSO.loadedLibsByHandle[n]=r),!t.loadAsync||Promise.resolve(!0);function o(e){if(t.fs&&t.fs.findObject(e)){var n=t.fs.readFile(e,{encoding:"binary"});return n instanceof Uint8Array||(n=new Uint8Array(n)),t.loadAsync?Promise.resolve(n):n}if(e=locateFile(e),t.loadAsync)return new Promise((function(t,n){readAsync(e,(e=>t(new Uint8Array(e))),n)}));if(!readBinary)throw new Error(e+": file not found, and synchronous loading of external files is not available");return readBinary(e)}function s(){if("undefined"!=typeof preloadedWasm&&preloadedWasm[e]){var r=preloadedWasm[e];return t.loadAsync?Promise.resolve(r):r}return t.loadAsync?o(e).then((function(e){return loadWebAssemblyModule(e,t,n)})):loadWebAssemblyModule(o(e),t,n)}function i(t){r.global&&mergeLibSymbols(t,e),r.module=t}return r={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},LDSO.loadedLibsByName[e]=r,n&&(LDSO.loadedLibsByHandle[n]=r),t.loadAsync?s().then((function(e){return i(e),!0})):(i(s()),!0)}function reportUndefinedSymbols(){for(var e in GOT)if(0==GOT[e].value){var t=resolveGlobalSymbol(e,!0);if(!t&&!GOT[e].required)continue;if("function"==typeof t)GOT[e].value=addFunction(t,t.sig);else{if("number"!=typeof t)throw new Error("bad export type for `"+e+"`: "+typeof t);GOT[e].value=t}}}function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce((function(e,t){return e.then((function(){return loadDynamicLibrary(t,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})}))}),Promise.resolve()).then((function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")}))):reportUndefinedSymbols()}function setValue(e,t,n="i8"){switch(n.endsWith("*")&&(n="*"),n){case"i1":case"i8":HEAP8[e>>0]=t;break;case"i16":HEAP16[e>>1]=t;break;case"i32":HEAP32[e>>2]=t;break;case"i64":tempI64=[t>>>0,(tempDouble=t,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=t;break;case"double":HEAPF64[e>>3]=t;break;case"*":HEAPU32[e>>2]=t;break;default:abort("invalid type for setValue: "+n)}}var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}function _abort(){abort("")}function _emscripten_date_now(){return Date.now()}function _emscripten_memcpy_big(e,t,n){HEAPU8.copyWithin(e,t,t+n)}function getHeapMax(){return 2147483648}function emscripten_realloc_buffer(e){try{return wasmMemory.grow(e-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch(e){}}function _emscripten_resize_heap(e){var t=HEAPU8.length;e>>>=0;var n,r=getHeapMax();if(e>r)return!1;for(var o=1;o<=4;o*=2){var s=t*(1+.2/o);if(s=Math.min(s,e+100663296),emscripten_realloc_buffer(Math.min(r,(n=Math.max(e,s))+(65536-n%65536)%65536)))return!0}return!1}__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:function(e,t,n){if(PATH.isAbs(t))return t;var r;if(r=-100===e?FS.cwd():SYSCALLS.getStreamFromFD(e).path,0==t.length){if(!n)throw new FS.ErrnoError(44);return r}return PATH.join2(r,t)},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&PATH.normalize(t)!==PATH.normalize(FS.getPath(e.node)))return-54;throw e}HEAP32[n>>2]=r.dev,HEAP32[n+8>>2]=r.ino,HEAP32[n+12>>2]=r.mode,HEAPU32[n+16>>2]=r.nlink,HEAP32[n+20>>2]=r.uid,HEAP32[n+24>>2]=r.gid,HEAP32[n+28>>2]=r.rdev,tempI64=[r.size>>>0,(tempDouble=r.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[n+40>>2]=tempI64[0],HEAP32[n+44>>2]=tempI64[1],HEAP32[n+48>>2]=4096,HEAP32[n+52>>2]=r.blocks;var o=r.atime.getTime(),s=r.mtime.getTime(),i=r.ctime.getTime();return tempI64=[Math.floor(o/1e3)>>>0,(tempDouble=Math.floor(o/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[n+56>>2]=tempI64[0],HEAP32[n+60>>2]=tempI64[1],HEAPU32[n+64>>2]=o%1e3*1e3,tempI64=[Math.floor(s/1e3)>>>0,(tempDouble=Math.floor(s/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[n+72>>2]=tempI64[0],HEAP32[n+76>>2]=tempI64[1],HEAPU32[n+80>>2]=s%1e3*1e3,tempI64=[Math.floor(i/1e3)>>>0,(tempDouble=Math.floor(i/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[n+88>>2]=tempI64[0],HEAP32[n+92>>2]=tempI64[1],HEAPU32[n+96>>2]=i%1e3*1e3,tempI64=[r.ino>>>0,(tempDouble=r.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[n+104>>2]=tempI64[0],HEAP32[n+108>>2]=tempI64[1],0},doMsync:function(e,t,n,r,o){if(!FS.isFile(t.node.mode))throw new FS.ErrnoError(43);if(2&r)return 0;var s=HEAPU8.slice(e,e+n);FS.msync(t,s,o,n,r)},varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(e){return UTF8ToString(e)},getStreamFromFD:function(e){var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(8);return t}};function _proc_exit(e){EXITSTATUS=e,keepRuntimeAlive()||(Module.onExit&&Module.onExit(e),ABORT=!0),quit_(e,new ExitStatus(e))}function exitJS(e,t){EXITSTATUS=e,_proc_exit(e)}_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(e){try{var t=SYSCALLS.getStreamFromFD(e);return FS.close(t),0}catch(e){if("undefined"==typeof FS||!(e instanceof FS.ErrnoError))throw e;return e.errno}}function convertI32PairToI53Checked(e,t){return t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN}function _fd_seek(e,t,n,r,o){try{var s=convertI32PairToI53Checked(t,n);if(isNaN(s))return 61;var i=SYSCALLS.getStreamFromFD(e);return FS.llseek(i,s,r),tempI64=[i.position>>>0,(tempDouble=i.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[o>>2]=tempI64[0],HEAP32[o+4>>2]=tempI64[1],i.getdents&&0===s&&0===r&&(i.getdents=null),0}catch(e){if("undefined"==typeof FS||!(e instanceof FS.ErrnoError))throw e;return e.errno}}function doWritev(e,t,n,r){for(var o=0,s=0;s<n;s++){var i=HEAPU32[t>>2],a=HEAPU32[t+4>>2];t+=8;var l=FS.write(e,HEAP8,i,a,r);if(l<0)return-1;o+=l,void 0!==r&&(r+=l)}return o}function _fd_write(e,t,n,r){try{var o=doWritev(SYSCALLS.getStreamFromFD(e),t,n);return HEAPU32[r>>2]=o,0}catch(e){if("undefined"==typeof FS||!(e instanceof FS.ErrnoError))throw e;return e.errno}}function _tree_sitter_log_callback(e,t){if(currentLogCallback){const n=UTF8ToString(t);currentLogCallback(n,0!==e)}}function _tree_sitter_parse_callback(e,t,n,r,o){var s=currentParseCallback(t,{row:n,column:r});"string"==typeof s?(setValue(o,s.length,"i32"),stringToUTF16(s,e,10240)):setValue(o,0,"i32")}function handleException(e){if(e instanceof ExitStatus||"unwind"==e)return EXITSTATUS;quit_(1,e)}function allocateUTF8OnStack(e){var t=lengthBytesUTF8(e)+1,n=stackAlloc(t);return stringToUTF8Array(e,HEAP8,n,t),n}function stringToUTF16(e,t,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var r=t,o=(n-=2)<2*e.length?n/2:e.length,s=0;s<o;++s){var i=e.charCodeAt(s);HEAP16[t>>1]=i,t+=2}return HEAP16[t>>1]=0,t-r}function AsciiToString(e){for(var t="";;){var n=HEAPU8[e++>>0];if(!n)return t;t+=String.fromCharCode(n)}}_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(e){var t=Module._main;if(t){(e=e||[]).unshift(thisProgram);var n=e.length,r=stackAlloc(4*(n+1)),o=r>>2;e.forEach((e=>{HEAP32[o++]=allocateUTF8OnStack(e)})),HEAP32[o]=0;try{var s=t(n,r);return exitJS(s,!0),s}catch(e){return handleException(e)}}}Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=function e(){calledRun||run(),calledRun||(dependenciesFulfilled=e)};var dylibsLoaded=!1;function run(e){function t(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(e),postRun()))}e=e||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout((function(){setTimeout((function(){Module.setStatus("")}),1),t()}),1)):t()))}if(Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();const C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let t;if(e){if(e.constructor!==Language)throw new Error("Argument must be a Language");{t=e[0];const n=C._ts_language_version(t);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else t=0,e=null;return this.language=e,C._ts_parser_set_language(this[0],t),this}getLanguage(){return this.language}parse(e,t,n){if("string"==typeof e)currentParseCallback=(t,n,r)=>e.slice(t,r);else{if("function"!=typeof e)throw new Error("Argument must be a string or a function");currentParseCallback=e}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let r=0,o=0;if(n&&n.includedRanges){r=n.includedRanges.length,o=C._calloc(r,SIZE_OF_RANGE);let e=o;for(let t=0;t<r;t++)marshalRange(e,n.includedRanges[t]),e+=SIZE_OF_RANGE}const s=C._ts_parser_parse_wasm(this[0],this[1],t?t[0]:0,o,r);if(!s)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");const i=new Tree(INTERNAL,s,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,i}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(e){C._ts_parser_set_timeout_micros(this[0],e)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(e){if(e){if("function"!=typeof e)throw new Error("Logger callback must be a function")}else e=null;return this.logCallback=e,this}getLogger(){return this.logCallback}}class Tree{constructor(e,t,n,r){assertInternal(e),this[0]=t,this.language=n,this.textCallback=r}copy(){const e=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,e,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(e){marshalEdit(e),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],e[0]);const t=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),r=new Array(t);if(t>0){let e=n;for(let n=0;n<t;n++)r[n]=unmarshalRange(e),e+=SIZE_OF_RANGE;C._free(n)}return r}}class Node{constructor(e,t){assertInternal(e),this.tree=t}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),1===C._ts_node_is_named_wasm(this.tree[0])}hasError(){return marshalNode(this),1===C._ts_node_has_error_wasm(this.tree[0])}hasChanges(){return marshalNode(this),1===C._ts_node_has_changes_wasm(this.tree[0])}isMissing(){return marshalNode(this),1===C._ts_node_is_missing_wasm(this.tree[0])}equals(e){return this.id===e.id}child(e){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}namedChild(e){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldId(e){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldName(e){const t=this.tree.language.fields.indexOf(e);if(-1!==t)return this.childForFieldId(t)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);const e=getValue(TRANSFER_BUFFER,"i32"),t=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(e),e>0){let n=t;for(let t=0;t<e;t++)this._children[t]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(t)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);const e=getValue(TRANSFER_BUFFER,"i32"),t=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(e),e>0){let n=t;for(let t=0;t<e;t++)this._namedChildren[t]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(t)}}return this._namedChildren}descendantsOfType(e,t,n){Array.isArray(e)||(e=[e]),t||(t=ZERO_POINT),n||(n=ZERO_POINT);const r=[],o=this.tree.language.types;for(let t=0,n=o.length;t<n;t++)e.includes(o[t])&&r.push(t);const s=C._malloc(SIZE_OF_INT*r.length);for(let e=0,t=r.length;e<t;e++)setValue(s+e*SIZE_OF_INT,r[e],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],s,r.length,t.row,t.column,n.row,n.column);const i=getValue(TRANSFER_BUFFER,"i32"),a=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),l=new Array(i);if(i>0){let e=a;for(let t=0;t<i;t++)l[t]=unmarshalNode(this.tree,e),e+=SIZE_OF_NODE}return C._free(a),C._free(s),l}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(e,t=e){if("number"!=typeof e||"number"!=typeof t)throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),setValue(n+SIZE_OF_INT,t,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(e,t=e){if("number"!=typeof e||"number"!=typeof t)throw new Error("Arguments must be numbers");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),setValue(n+SIZE_OF_INT,t,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(e,t=e){if(!isPoint(e)||!isPoint(t))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,t),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(e,t=e){if(!isPoint(e)||!isPoint(t))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,t),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);const e=C._ts_node_to_string_wasm(this.tree[0]),t=AsciiToString(e);return C._free(e),t}}class TreeCursor{constructor(e,t){assertInternal(e),this.tree=t,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){marshalNode(e),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),1===C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])}get nodeIsMissing(){return marshalTreeCursor(this),1===C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])}get nodeText(){marshalTreeCursor(this);const e=C._ts_tree_cursor_start_index_wasm(this.tree[0]),t=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,e,t)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),1===e}gotoNextSibling(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),1===e}gotoParent(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),1===e}}class Language{constructor(e,t){assertInternal(e),this[0]=t,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let e=0,t=this.types.length;e<t;e++)C._ts_language_symbol_type(this[0],e)<2&&(this.types[e]=UTF8ToString(C._ts_language_symbol_name(this[0],e)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let e=0,t=this.fields.length;e<t;e++){const t=C._ts_language_field_name_for_id(this[0],e);this.fields[e]=0!==t?UTF8ToString(t):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(e){const t=this.fields.indexOf(e);return-1!==t?t:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,t){const n=lengthBytesUTF8(e),r=C._malloc(n+1);stringToUTF8(e,r,n+1);const o=C._ts_language_symbol_for_name(this[0],r,n,t);return C._free(r),o||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(e){const t=C._ts_language_symbol_name(this[0],e);return t?UTF8ToString(t):null}nodeTypeIsNamed(e){return!!C._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!C._ts_language_type_is_visible_wasm(this[0],e)}query(e){const t=lengthBytesUTF8(e),n=C._malloc(t+1);stringToUTF8(e,n,t+1);const r=C._ts_query_new(this[0],n,t,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!r){const t=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),r=UTF8ToString(n,getValue(TRANSFER_BUFFER,"i32")).length,o=e.substr(r,100).split("\n")[0];let s,i=o.match(QUERY_WORD_REGEX)[0];switch(t){case 2:s=new RangeError(`Bad node name '${i}'`);break;case 3:s=new RangeError(`Bad field name '${i}'`);break;case 4:s=new RangeError(`Bad capture name @${i}`);break;case 5:s=new TypeError(`Bad pattern structure at offset ${r}: '${o}'...`),i="";break;default:s=new SyntaxError(`Bad syntax at offset ${r}: '${o}'...`),i=""}throw s.index=r,s.length=i.length,C._free(n),s}const o=C._ts_query_string_count(r),s=C._ts_query_capture_count(r),i=C._ts_query_pattern_count(r),a=new Array(s),l=new Array(o);for(let e=0;e<s;e++){const t=C._ts_query_capture_name_for_id(r,e,TRANSFER_BUFFER),n=getValue(TRANSFER_BUFFER,"i32");a[e]=UTF8ToString(t,n)}for(let e=0;e<o;e++){const t=C._ts_query_string_value_for_id(r,e,TRANSFER_BUFFER),n=getValue(TRANSFER_BUFFER,"i32");l[e]=UTF8ToString(t,n)}const u=new Array(i),_=new Array(i),c=new Array(i),d=new Array(i),p=new Array(i);for(let e=0;e<i;e++){const t=C._ts_query_predicates_for_pattern(r,e,TRANSFER_BUFFER),n=getValue(TRANSFER_BUFFER,"i32");d[e]=[],p[e]=[];const o=[];let s=t;for(let t=0;t<n;t++){const t=getValue(s,"i32");s+=SIZE_OF_INT;const n=getValue(s,"i32");if(s+=SIZE_OF_INT,t===PREDICATE_STEP_TYPE_CAPTURE)o.push({type:"capture",name:a[n]});else if(t===PREDICATE_STEP_TYPE_STRING)o.push({type:"string",value:l[n]});else if(o.length>0){if("string"!==o[0].type)throw new Error("Predicates must begin with a literal value");const t=o[0].value;let n=!0;switch(t){case"not-eq?":n=!1;case"eq?":if(3!==o.length)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(o.length-1));if("capture"!==o[1].type)throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${o[1].value}"`);if("capture"===o[2].type){const t=o[1].name,r=o[2].name;p[e].push((function(e){let o,s;for(const n of e)n.name===t&&(o=n.node),n.name===r&&(s=n.node);return void 0===o||void 0===s||o.text===s.text===n}))}else{const t=o[1].name,r=o[2].value;p[e].push((function(e){for(const o of e)if(o.name===t)return o.node.text===r===n;return!0}))}break;case"not-match?":n=!1;case"match?":if(3!==o.length)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${o.length-1}.`);if("capture"!==o[1].type)throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${o[1].value}".`);if("string"!==o[2].type)throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${o[2].value}.`);const r=o[1].name,s=new RegExp(o[2].value);p[e].push((function(e){for(const t of e)if(t.name===r)return s.test(t.node.text)===n;return!0}));break;case"set!":if(o.length<2||o.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${o.length-1}.`);if(o.some((e=>"string"!==e.type)))throw new Error('Arguments to `#set!` predicate must be a strings.".');u[e]||(u[e]={}),u[e][o[1].value]=o[2]?o[2].value:null;break;case"is?":case"is-not?":if(o.length<2||o.length>3)throw new Error(`Wrong number of arguments to \`#${t}\` predicate. Expected 1 or 2. Got ${o.length-1}.`);if(o.some((e=>"string"!==e.type)))throw new Error(`Arguments to \`#${t}\` predicate must be a strings.".`);const i="is?"===t?_:c;i[e]||(i[e]={}),i[e][o[1].value]=o[2]?o[2].value:null;break;default:d[e].push({operator:t,operands:o.slice(1)})}o.length=0}}Object.freeze(u[e]),Object.freeze(_[e]),Object.freeze(c[e])}return C._free(n),new Query(INTERNAL,r,a,p,d,Object.freeze(u),Object.freeze(_),Object.freeze(c))}static load(e){let t;if(e instanceof Uint8Array)t=Promise.resolve(e);else{const n=e;if("undefined"!=typeof process&&process.versions&&process.versions.node){const e=__webpack_require__(7147);t=Promise.resolve(e.readFileSync(n))}else t=fetch(n).then((e=>e.arrayBuffer().then((t=>{if(e.ok)return new Uint8Array(t);{const n=new TextDecoder("utf-8").decode(t);throw new Error(`Language.load failed with status ${e.status}.\n\n${n}`)}}))))}const n="function"==typeof loadSideModule?loadSideModule:loadWebAssemblyModule;return t.then((e=>n(e,{loadAsync:!0}))).then((e=>{const t=Object.keys(e),n=t.find((e=>LANGUAGE_FUNCTION_REGEX.test(e)&&!e.includes("external_scanner_")));n||console.log(`Couldn't find language function in WASM file. Symbols:\n${JSON.stringify(t,null,2)}`);const r=e[n]();return new Language(INTERNAL,r)}))}}class Query{constructor(e,t,n,r,o,s,i,a){assertInternal(e),this[0]=t,this.captureNames=n,this.textPredicates=r,this.predicates=o,this.setProperties=s,this.assertedProperties=i,this.refutedProperties=a,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(e,t,n,r){t||(t=ZERO_POINT),n||(n=ZERO_POINT),r||(r={});let o=r.matchLimit;if(void 0===o)o=0;else if("number"!=typeof o)throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_matches_wasm(this[0],e.tree[0],t.row,t.column,n.row,n.column,o);const s=getValue(TRANSFER_BUFFER,"i32"),i=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),a=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),l=new Array(s);this.exceededMatchLimit=!!a;let u=0,_=i;for(let t=0;t<s;t++){const n=getValue(_,"i32");_+=SIZE_OF_INT;const r=getValue(_,"i32");_+=SIZE_OF_INT;const o=new Array(r);if(_=unmarshalCaptures(this,e.tree,_,o),this.textPredicates[n].every((e=>e(o)))){l[u++]={pattern:n,captures:o};const e=this.setProperties[n];e&&(l[t].setProperties=e);const r=this.assertedProperties[n];r&&(l[t].assertedProperties=r);const s=this.refutedProperties[n];s&&(l[t].refutedProperties=s)}}return l.length=u,C._free(i),l}captures(e,t,n,r){t||(t=ZERO_POINT),n||(n=ZERO_POINT),r||(r={});let o=r.matchLimit;if(void 0===o)o=0;else if("number"!=typeof o)throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_captures_wasm(this[0],e.tree[0],t.row,t.column,n.row,n.column,o);const s=getValue(TRANSFER_BUFFER,"i32"),i=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),a=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),l=[];this.exceededMatchLimit=!!a;const u=[];let _=i;for(let t=0;t<s;t++){const t=getValue(_,"i32");_+=SIZE_OF_INT;const n=getValue(_,"i32");_+=SIZE_OF_INT;const r=getValue(_,"i32");if(_+=SIZE_OF_INT,u.length=n,_=unmarshalCaptures(this,e.tree,_,u),this.textPredicates[t].every((e=>e(u)))){const e=u[r],n=this.setProperties[t];n&&(e.setProperties=n);const o=this.assertedProperties[t];o&&(e.assertedProperties=o);const s=this.refutedProperties[t];s&&(e.refutedProperties=s),l.push(e)}}return C._free(i),l}predicatesForPattern(e){return this.predicates[e]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(e,t,n){const r=n-t;let o=e.textCallback(t,null,n);for(t+=o.length;t<n;){const r=e.textCallback(t,null,n);if(!(r&&r.length>0))break;t+=r.length,o+=r}return t>n&&(o=o.slice(0,r)),o}function unmarshalCaptures(e,t,n,r){for(let o=0,s=r.length;o<s;o++){const s=getValue(n,"i32"),i=unmarshalNode(t,n+=SIZE_OF_INT);n+=SIZE_OF_NODE,r[o]={name:e.captureNames[s],node:i}}return n}function assertInternal(e){if(e!==INTERNAL)throw new Error("Illegal constructor")}function isPoint(e){return e&&"number"==typeof e.row&&"number"==typeof e.column}function marshalNode(e){let t=TRANSFER_BUFFER;setValue(t,e.id,"i32"),t+=SIZE_OF_INT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.row,"i32"),t+=SIZE_OF_INT,setValue(t,e.startPosition.column,"i32"),t+=SIZE_OF_INT,setValue(t,e[0],"i32")}function unmarshalNode(e,t=TRANSFER_BUFFER){const n=getValue(t,"i32");if(0===n)return null;const r=getValue(t+=SIZE_OF_INT,"i32"),o=getValue(t+=SIZE_OF_INT,"i32"),s=getValue(t+=SIZE_OF_INT,"i32"),i=getValue(t+=SIZE_OF_INT,"i32"),a=new Node(INTERNAL,e);return a.id=n,a.startIndex=r,a.startPosition={row:o,column:s},a[0]=i,a}function marshalTreeCursor(e,t=TRANSFER_BUFFER){setValue(t+0*SIZE_OF_INT,e[0],"i32"),setValue(t+1*SIZE_OF_INT,e[1],"i32"),setValue(t+2*SIZE_OF_INT,e[2],"i32")}function unmarshalTreeCursor(e){e[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),e[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),e[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}function marshalPoint(e,t){setValue(e,t.row,"i32"),setValue(e+SIZE_OF_INT,t.column,"i32")}function unmarshalPoint(e){return{row:getValue(e,"i32"),column:getValue(e+SIZE_OF_INT,"i32")}}function marshalRange(e,t){marshalPoint(e,t.startPosition),marshalPoint(e+=SIZE_OF_POINT,t.endPosition),setValue(e+=SIZE_OF_POINT,t.startIndex,"i32"),setValue(e+=SIZE_OF_INT,t.endIndex,"i32"),e+=SIZE_OF_INT}function unmarshalRange(e){const t={};return t.startPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.endPosition=unmarshalPoint(e),e+=SIZE_OF_POINT,t.startIndex=getValue(e,"i32"),e+=SIZE_OF_INT,t.endIndex=getValue(e,"i32"),t}function marshalEdit(e){let t=TRANSFER_BUFFER;marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.oldEndPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.newEndPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.oldEndIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.newEndIndex,"i32"),t+=SIZE_OF_INT}for(const e of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,e,{value:ParserImpl.prototype[e],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}})))}}return Parser}();module.exports=TreeSitter},9491:e=>{"use strict";e.exports=require("assert")},7147:e=>{"use strict";e.exports=require("fs")},1017:e=>{"use strict";e.exports=require("path")},3837:e=>{"use strict";e.exports=require("util")},1267:e=>{"use strict";e.exports=require("worker_threads")}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__=__webpack_require__(2524);module.exports=__webpack_exports__})();
//# sourceMappingURL=workerProxy.js.map